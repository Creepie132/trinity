# üéØ –ë–∞–Ω–Ω–µ—Ä–Ω–∞—è —Ä–µ–∫–ª–∞–º–∞ - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

**–î–∞—Ç–∞:** 2026-02-08  
**–í–µ—Ä—Å–∏—è:** 1.0.0

## üìã –û–±–∑–æ—Ä

–î–æ–±–∞–≤–ª–µ–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –±–∞–Ω–Ω–µ—Ä–Ω–æ–π —Ä–µ–∫–ª–∞–º—ã –≤ –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Trinity:
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç AdBanner –¥–ª—è –ø–æ–∫–∞–∑–∞ –±–∞–Ω–Ω–µ—Ä–æ–≤
- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–∞—Ä—Ç–Ω—ë—Ä—Å–∫–∏—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π (/partners)
- API –¥–ª—è —Ç—Ä–µ–∫–∏–Ω–≥–∞ –ø–æ–∫–∞–∑–æ–≤ –∏ –∫–ª–∏–∫–æ–≤
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ Dashboard

---

## üóÇÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

### API Routes

```
src/app/api/ads/
‚îú‚îÄ‚îÄ impression/route.ts    # POST - —Ç—Ä–µ–∫–∏–Ω–≥ –ø–æ–∫–∞–∑–æ–≤
‚îú‚îÄ‚îÄ click/route.ts         # POST - —Ç—Ä–µ–∫–∏–Ω–≥ –∫–ª–∏–∫–æ–≤
‚îî‚îÄ‚îÄ active/route.ts        # GET - –ø–æ–ª—É—á–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∫–∞–º–ø–∞–Ω–∏–π
```

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

```
src/components/ads/
‚îî‚îÄ‚îÄ AdBanner.tsx           # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –±–∞–Ω–Ω–µ—Ä–∞
```

### –°—Ç—Ä–∞–Ω–∏—Ü—ã

```
src/app/partners/
‚îú‚îÄ‚îÄ page.tsx               # –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–∞—Ä—Ç–Ω—ë—Ä—Å–∫–∏—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π
‚îî‚îÄ‚îÄ loading.tsx            # Skeleton loader
```

### –û–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

- `src/components/layout/Sidebar.tsx` ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω –ø—É–Ω–∫—Ç –º–µ–Ω—é "◊î◊¶◊¢◊ï◊™ ◊©◊ï◊™◊§◊ô◊ù"
- `src/app/page.tsx` ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω AdBanner –Ω–∞ Dashboard

---

## üîå API Endpoints

### `POST /api/ads/impression`

–£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —Å—á—ë—Ç—á–∏–∫ –ø–æ–∫–∞–∑–æ–≤ –±–∞–Ω–Ω–µ—Ä–∞.

**Request Body:**
```json
{
  "campaign_id": "uuid"
}
```

**Response Success (200):**
```json
{
  "success": true,
  "impressions": 42
}
```

**Response Error (400):**
```json
{
  "error": "campaign_id is required"
}
```

**Response Error (404):**
```json
{
  "error": "Campaign not found"
}
```

---

### `POST /api/ads/click`

–£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —Å—á—ë—Ç—á–∏–∫ –∫–ª–∏–∫–æ–≤ –ø–æ –±–∞–Ω–Ω–µ—Ä—É.

**Request Body:**
```json
{
  "campaign_id": "uuid"
}
```

**Response Success (200):**
```json
{
  "success": true,
  "clicks": 15
}
```

**Response Error (400):**
```json
{
  "error": "campaign_id is required"
}
```

**Response Error (404):**
```json
{
  "error": "Campaign not found"
}
```

---

### `GET /api/ads/active?category={category}`

–ü–æ–ª—É—á–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Ä–µ–∫–ª–∞–º–Ω—ã—Ö –∫–∞–º–ø–∞–Ω–∏–π –¥–ª—è —É–∫–∞–∑–∞–Ω–Ω–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏.

**Query Parameters:**
- `category` (required) ‚Äî –∫–∞—Ç–µ–≥–æ—Ä–∏—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ (salon/carwash/clinic/restaurant/gym/other)

**Response Success (200):**
```json
{
  "campaigns": [
    {
      "id": "uuid",
      "advertiser_name": "◊ß◊ï◊°◊û◊ò◊ô◊ß◊î ◊ú◊ô",
      "banner_url": "https://...",
      "link_url": "https://...",
      "target_categories": ["salon"],
      "start_date": "2026-02-01",
      "end_date": "2026-02-28",
      "is_active": true,
      "clicks": 15,
      "impressions": 42
    }
  ]
}
```

**–§–∏–ª—å—Ç—Ä—ã:**
- `is_active = true`
- `start_date <= today`
- `end_date >= today`
- `target_categories` —Å–æ–¥–µ—Ä–∂–∏—Ç —É–∫–∞–∑–∞–Ω–Ω—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é

**Response Error (400):**
```json
{
  "error": "category parameter is required"
}
```

---

## üß© –ö–æ–º–ø–æ–Ω–µ–Ω—Ç AdBanner

**–ü—É—Ç—å:** `src/components/ads/AdBanner.tsx`

### Props

```typescript
interface AdBannerProps {
  category: string    // –ö–∞—Ç–µ–≥–æ—Ä–∏—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
  className?: string  // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ CSS –∫–ª–∞—Å—Å—ã
}
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```tsx
import AdBanner from '@/components/ads/AdBanner'

<AdBanner category="salon" />
```

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

1. **–ó–∞–≥—Ä—É–∑–∫–∞ –∫–∞–º–ø–∞–Ω–∏–∏:**
   - –ü—Ä–∏ mount –≤—ã–∑—ã–≤–∞–µ—Ç `/api/ads/active?category={category}`
   - –ï—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–∞–º–ø–∞–Ω–∏–π ‚Üí –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è —Å–ª—É—á–∞–π–Ω–∞—è
   - –ï—Å–ª–∏ –∫–∞–º–ø–∞–Ω–∏–π –Ω–µ—Ç ‚Üí –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –Ω–µ —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è (null)

2. **–¢—Ä–µ–∫–∏–Ω–≥ –ø–æ–∫–∞–∑–æ–≤:**
   - –ü—Ä–∏ —É—Å–ø–µ—à–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–µ –±–∞–Ω–Ω–µ—Ä–∞ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `/api/ads/impression`
   - –ü–æ–∫–∞–∑ —Ç—Ä–µ–∫–∞–µ—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –∑–∞ —Å–µ—Å—Å–∏—é (—Ñ–ª–∞–≥ impressionTracked)

3. **–¢—Ä–µ–∫–∏–Ω–≥ –∫–ª–∏–∫–æ–≤:**
   - –ü—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –±–∞–Ω–Ω–µ—Ä –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `/api/ads/click`
   - –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è `link_url` –≤ –Ω–æ–≤–æ–π –≤–∫–ª–∞–¥–∫–µ

4. **–°—Ç–∏–ª—å:**
   - –°–∫—Ä—É–≥–ª—ë–Ω–Ω—ã–µ —É–≥–ª—ã (rounded-lg)
   - –¢–µ–Ω—å (shadow-md)
   - Hover —ç—Ñ—Ñ–µ–∫—Ç (scale –Ω–∞ 102%)
   - –ü–æ–¥–ø–∏—Å—å "◊©◊ï◊™◊£ ◊¢◊°◊ß◊ô" –≤–Ω–∏–∑—É

---

## üìÑ –°—Ç—Ä–∞–Ω–∏—Ü–∞ /partners

**–ü—É—Ç—å:** `src/app/partners/page.tsx`

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

1. **–ó–∞–≥—Ä—É–∑–∫–∞ –∫–∞–º–ø–∞–Ω–∏–π:**
   - –ü–æ–ª—É—á–∞–µ—Ç –≤—Å–µ –∞–∫—Ç–∏–≤–Ω—ã–µ –∫–∞–º–ø–∞–Ω–∏–∏ –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
   - TODO: –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏

2. **–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ:**
   - Grid layout (1 –∫–æ–ª–æ–Ω–∫–∞ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö, 2 –Ω–∞ –ø–ª–∞–Ω—à–µ—Ç–∞—Ö, 3 –Ω–∞ –¥–µ—Å–∫—Ç–æ–ø–∞—Ö)
   - –ö–∞–∂–¥—ã–π –±–∞–Ω–Ω–µ—Ä:
     - –ö–∞—Ä—Ç–∏–Ω–∫–∞ 250px –≤—ã—Å–æ—Ç–æ–π
     - –ù–∞–∑–≤–∞–Ω–∏–µ —Ä–µ–∫–ª–∞–º–æ–¥–∞—Ç–µ–ª—è
     - –ö–Ω–æ–ø–∫–∞ "◊ú◊§◊®◊ò◊ô◊ù" (–ü–æ–¥—Ä–æ–±–Ω–µ–µ)

3. **–í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ:**
   - –ü—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ "◊ú◊§◊®◊ò◊ô◊ù" ‚Üí —Ç—Ä–µ–∫–∞–µ—Ç—Å—è –∫–ª–∏–∫ + –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è —Å—Å—ã–ª–∫–∞

4. **–ü—É—Å—Ç–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:**
   - –ï—Å–ª–∏ –Ω–µ—Ç –∫–∞–º–ø–∞–Ω–∏–π ‚Üí –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ "◊ê◊ô◊ü ◊î◊¶◊¢◊ï◊™ ◊ñ◊û◊ô◊†◊ï◊™ ◊õ◊®◊í◊¢"

---

## üß≠ –ù–∞–≤–∏–≥–∞—Ü–∏—è

### Sidebar

–î–æ–±–∞–≤–ª–µ–Ω –Ω–æ–≤—ã–π –ø—É–Ω–∫—Ç –º–µ–Ω—é:
- –ù–∞–∑–≤–∞–Ω–∏–µ: "◊î◊¶◊¢◊ï◊™ ◊©◊ï◊™◊§◊ô◊ù" (–ü–∞—Ä—Ç–Ω—ë—Ä—Å–∫–∏–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è)
- –ò–∫–æ–Ω–∫–∞: Gift (lucide-react)
- –ü–æ–∑–∏—Ü–∏—è: –ü–æ—Å–ª–µ "◊°◊ò◊ò◊ô◊°◊ò◊ô◊ß◊î"
- –ü—É—Ç—å: `/partners`

### Dashboard

AdBanner —Ä–∞–∑–º–µ—â—ë–Ω —Å–ø—Ä–∞–≤–∞ –æ—Ç –∫–∞—Ä—Ç–æ—á–µ–∫ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏:
- –†–∞–∑–º–µ—Ä: 300px —à–∏—Ä–∏–Ω–∞ (—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –Ω–∞ –¥–µ—Å–∫—Ç–æ–ø–µ)
- –ü–æ–∑–∏—Ü–∏—è: Flex layout —Å –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏ —Å–ª–µ–≤–∞
- –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å: –ù–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö –±–∞–Ω–Ω–µ—Ä –ø–æ–¥ –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏

---

## üìê –î–∏–∑–∞–π–Ω

### –¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞
- –§–æ–Ω –±–∞–Ω–Ω–µ—Ä–∞: –±–µ–ª—ã–π (`bg-white`)
- –ü–æ–¥–ø–∏—Å—å: —Å–µ—Ä—ã–π (`text-gray-500`)
- –¢–µ–Ω–∏: `shadow-md`

### –†–∞–∑–º–µ—Ä—ã
- –ë–∞–Ω–Ω–µ—Ä –Ω–∞ Dashboard: 300x250px
- –ë–∞–Ω–Ω–µ—Ä –Ω–∞ /partners: –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π –ø–æ —à–∏—Ä–∏–Ω–µ, 250px –≤—ã—Å–æ—Ç–∞

### –≠—Ñ—Ñ–µ–∫—Ç—ã
- Hover –Ω–∞ –±–∞–Ω–Ω–µ—Ä–µ: `scale(1.02)`
- Hover –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–µ –ø–∞—Ä—Ç–Ω—ë—Ä–∞: —É–≤–µ–ª–∏—á–µ–Ω–∏–µ —Ç–µ–Ω–∏

---

## üîÑ –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã

### –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å–æ–±—ã—Ç–∏–π

1. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç Dashboard:**
   - AdBanner –º–æ–Ω—Ç–∏—Ä—É–µ—Ç—Å—è
   - –ó–∞–ø—Ä–æ—Å –∫ `/api/ads/active?category=salon`
   - –ï—Å–ª–∏ –µ—Å—Ç—å –∫–∞–º–ø–∞–Ω–∏–∏ ‚Üí –≤—ã–±–æ—Ä —Å–ª—É—á–∞–π–Ω–æ–π
   - –ü–æ–∫–∞–∑ –±–∞–Ω–Ω–µ—Ä–∞ ‚Üí –∑–∞–ø—Ä–æ—Å –∫ `/api/ads/impression`

2. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∫–ª–∏–∫–∞–µ—Ç –Ω–∞ –±–∞–Ω–Ω–µ—Ä:**
   - –ó–∞–ø—Ä–æ—Å –∫ `/api/ads/click`
   - –û—Ç–∫—Ä—ã—Ç–∏–µ `link_url` –≤ –Ω–æ–≤–æ–π –≤–∫–ª–∞–¥–∫–µ

3. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –Ω–∞ /partners:**
   - –ó–∞–≥—Ä—É–∑–∫–∞ –≤—Å–µ—Ö –∞–∫—Ç–∏–≤–Ω—ã—Ö –∫–∞–º–ø–∞–Ω–∏–π
   - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ grid
   - –ö–ª–∏–∫ –ø–æ –∫–Ω–æ–ø–∫–µ ‚Üí —Ç—Ä–µ–∫–∏–Ω–≥ + –æ—Ç–∫—Ä—ã—Ç–∏–µ —Å—Å—ã–ª–∫–∏

---

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π

–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ (–∏–∑ CLAUDE.md):
- `salon` ‚Äî —Å–∞–ª–æ–Ω—ã –∫—Ä–∞—Å–æ—Ç—ã
- `carwash` ‚Äî –∞–≤—Ç–æ–º–æ–π–∫–∏
- `clinic` ‚Äî –∫–ª–∏–Ω–∏–∫–∏
- `restaurant` ‚Äî —Ä–µ—Å—Ç–æ—Ä–∞–Ω—ã
- `gym` ‚Äî —Å–ø–æ—Ä—Ç–∑–∞–ª—ã
- `other` ‚Äî –¥—Ä—É–≥–æ–µ

### TODO: –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏

–°–µ–π—á–∞—Å –∫–∞—Ç–µ–≥–æ—Ä–∏—è hardcoded –≤ Dashboard:
```typescript
const orgCategory = 'salon'
```

**–ù—É–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å:**
1. –°–æ–∑–¥–∞—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç `OrganizationContext` —Å –¥–∞–Ω–Ω—ã–º–∏ —Ç–µ–∫—É—â–µ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
2. –ò–ª–∏ —Ö—É–∫ `useOrganization()` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∏–∑ Supabase
3. –ò–ª–∏ middleware, –∫–æ—Ç–æ—Ä—ã–π –¥–æ–±–∞–≤–ª—è–µ—Ç –∫–∞—Ç–µ–≥–æ—Ä–∏—é –≤ —Å–µ—Å—Å–∏—é

**–ü—Ä–∏–º–µ—Ä –±—É–¥—É—â–µ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:**
```typescript
const { organization } = useOrganization()
const orgCategory = organization?.category || 'other'
```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –°—Ü–µ–Ω–∞—Ä–∏–∏ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

1. **–ë–∞–Ω–Ω–µ—Ä –Ω–∞ Dashboard:**
   - ‚úÖ –ë–∞–Ω–Ω–µ—Ä –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –µ—Å–ª–∏ –µ—Å—Ç—å –∞–∫—Ç–∏–≤–Ω–∞—è –∫–∞–º–ø–∞–Ω–∏—è
   - ‚úÖ –ë–∞–Ω–Ω–µ—Ä –ù–ï –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –µ—Å–ª–∏ –Ω–µ—Ç –∫–∞–º–ø–∞–Ω–∏–π
   - ‚úÖ –ö–ª–∏–∫ –ø–æ –±–∞–Ω–Ω–µ—Ä—É –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —Å—Å—ã–ª–∫—É –≤ –Ω–æ–≤–æ–π –≤–∫–ª–∞–¥–∫–µ
   - ‚úÖ Impression —Ç—Ä–µ–∫–∞–µ—Ç—Å—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
   - ‚úÖ Click —Ç—Ä–µ–∫–∞–µ—Ç—Å—è –ø—Ä–∏ –∫–ª–∏–∫–µ

2. **–°—Ç—Ä–∞–Ω–∏—Ü–∞ /partners:**
   - ‚úÖ –ó–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –≤—Å–µ –∞–∫—Ç–∏–≤–Ω—ã–µ –∫–∞–º–ø–∞–Ω–∏–∏
   - ‚úÖ –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è grid —Å –±–∞–Ω–Ω–µ—Ä–∞–º–∏
   - ‚úÖ –ü—É—Å—Ç–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –µ—Å–ª–∏ –Ω–µ—Ç –∫–∞–º–ø–∞–Ω–∏–π
   - ‚úÖ –ö–Ω–æ–ø–∫–∞ "◊ú◊§◊®◊ò◊ô◊ù" —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

3. **API Endpoints:**
   - ‚úÖ `/api/ads/active` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–Ω—ã–µ –∫–∞–º–ø–∞–Ω–∏–∏
   - ‚úÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –¥–∞—Ç–∞–º —Ä–∞–±–æ—Ç–∞–µ—Ç
   - ‚úÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º —Ä–∞–±–æ—Ç–∞–µ—Ç
   - ‚úÖ `/api/ads/impression` —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —Å—á—ë—Ç—á–∏–∫
   - ‚úÖ `/api/ads/click` —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —Å—á—ë—Ç—á–∏–∫

4. **–ù–∞–≤–∏–≥–∞—Ü–∏—è:**
   - ‚úÖ –ü—É–Ω–∫—Ç –º–µ–Ω—é "◊î◊¶◊¢◊ï◊™ ◊©◊ï◊™◊§◊ô◊ù" –≤–∏–¥–µ–Ω –≤ sidebar
   - ‚úÖ –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ /partners —Ä–∞–±–æ—Ç–∞–µ—Ç

---

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
- API endpoints –ø—É–±–ª–∏—á–Ω—ã–µ (–Ω–µ—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏)
- RLS –ø–æ–ª–∏—Ç–∏–∫–∏ –Ω–∞ `ad_campaigns`:
  - –ß—Ç–µ–Ω–∏–µ: –¥–æ—Å—Ç—É–ø–Ω–æ –≤—Å–µ–º
  - –ó–∞–ø–∏—Å—å: —Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω–∞–º

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è production

1. **–ó–∞—â–∏—Ç–∞ API:**
   - –î–æ–±–∞–≤–∏—Ç—å rate limiting –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è —Å–ø–∞–º–∞ –∫–ª–∏–∫–æ–≤
   - –ó–∞—â–∏—Ç–∞ –æ—Ç –±–æ—Ç–æ–≤ (CAPTCHA –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –ø–∞—Ä—Ç–Ω—ë—Ä–æ–≤)

2. **–í–∞–ª–∏–¥–∞—Ü–∏—è:**
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è campaign_id –ø–µ—Ä–µ–¥ –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–æ–º
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏ category –ø–∞—Ä–∞–º–µ—Ç—Ä–∞

3. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:**
   - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ (–º–Ω–æ–≥–æ –∫–ª–∏–∫–æ–≤ —Å –æ–¥–Ω–æ–≥–æ IP)
   - –ê–ª–µ—Ä—Ç—ã –ø—Ä–∏ –∞–Ω–æ–º–∞–ª–∏—è—Ö –≤ CTR

---

## üìä –ê–Ω–∞–ª–∏—Ç–∏–∫–∞

### –î–æ—Å—Ç—É–ø–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏

–í –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏ (`/admin/ads`) —É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã:
- –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–∞–º–ø–∞–Ω–∏–π
- CTR –ø–æ –∫–∞–∂–¥–æ–π –∫–∞–º–ø–∞–Ω–∏–∏
- –ö–ª–∏–∫–∏ –∏ –ø–æ–∫–∞–∑—ã

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ (–±—É–¥—É—â–∏–µ)

- –ö–æ–Ω–≤–µ—Ä—Å–∏—è –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
- –¢–æ–ø –±–∞–Ω–Ω–µ—Ä—ã –ø–æ –∫–ª–∏–∫–∞–º
- –¢–µ–ø–ª–æ–≤–∞—è –∫–∞—Ä—Ç–∞ –∫–ª–∏–∫–æ–≤
- A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±–∞–Ω–Ω–µ—Ä–æ–≤

---

## üöÄ –†–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ

### –®–∞–≥–∏ –¥–ª—è production

1. **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:**
   - –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ —Ç–∞–±–ª–∏—Ü–∞ `ad_campaigns` —Å–æ–∑–¥–∞–Ω–∞
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å RLS –ø–æ–ª–∏—Ç–∏–∫–∏
   - –°–æ–∑–¥–∞—Ç—å Storage bucket `ad-banners` (–µ—Å–ª–∏ –µ—â—ë –Ω–µ —Å–æ–∑–¥–∞–Ω)

2. **–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
   - `NEXT_PUBLIC_SUPABASE_URL`
   - `NEXT_PUBLIC_SUPABASE_ANON_KEY`

3. **–ó–∞–≥—Ä—É–∑–∫–∞ –±–∞–Ω–Ω–µ—Ä–æ–≤:**
   - –ß–µ—Ä–µ–∑ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å (`/admin/ads`)
   - –ë–∞–Ω–Ω–µ—Ä—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –≤ Supabase Storage
   - –§–æ—Ä–º–∞—Ç: JPG, PNG, WebP (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è WebP)
   - –†–∞–∑–º–µ—Ä: —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 300x250px –∏–ª–∏ 600x500px (—Ä–µ—Ç–∏–Ω–∞)

4. **–°–æ–∑–¥–∞–Ω–∏–µ –∫–∞–º–ø–∞–Ω–∏–π:**
   - –ß–µ—Ä–µ–∑ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å
   - –£–∫–∞–∑–∞—Ç—å —Ü–µ–ª–µ–≤—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –¥–∞—Ç—ã –Ω–∞—á–∞–ª–∞ –∏ –æ–∫–æ–Ω—á–∞–Ω–∏—è
   - –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –∫–∞–º–ø–∞–Ω–∏—é

---

## üêõ –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

1. **–ö–∞—Ç–µ–≥–æ—Ä–∏—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏:**
   - –°–µ–π—á–∞—Å hardcoded –∫–∞–∫ 'salon'
   - –ù—É–∂–Ω–æ –ø–æ–ª—É—á–∞—Ç—å –∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞/—Å–µ—Å—Å–∏–∏

2. **–°–ª—É—á–∞–π–Ω—ã–π –≤—ã–±–æ—Ä –±–∞–Ω–Ω–µ—Ä–∞:**
   - –ï—Å–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–∞–º–ø–∞–Ω–∏–π –¥–æ—Å—Ç—É–ø–Ω—ã ‚Üí –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è —Å–ª—É—á–∞–π–Ω–∞—è
   - –ù–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏–∏ –∏–ª–∏ —Ä–æ—Ç–∞—Ü–∏–∏

3. **–î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è –ø–æ–∫–∞–∑–æ–≤:**
   - Impression —Ç—Ä–µ–∫–∞–µ—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –∑–∞ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
   - –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ–±–Ω–æ–≤–∏—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É ‚Üí —Å–Ω–æ–≤–∞ –∑–∞—Å—á–∏—Ç–∞–µ—Ç—Å—è

4. **–ù–µ—Ç –≥–µ–æ—Ç–∞—Ä–≥–µ—Ç–∏–Ω–≥–∞:**
   - –ë–∞–Ω–Ω–µ—Ä—ã —Ñ–∏–ª—å—Ç—Ä—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
   - –ù–µ—Ç —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø–æ —Ä–µ–≥–∏–æ–Ω—É/–≥–æ—Ä–æ–¥—É

---

## üìù –ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

- [ ] –ö–æ–Ω—Ç–µ–∫—Å—Ç –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- [ ] –ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è –±–∞–Ω–Ω–µ—Ä–æ–≤ (–≤–µ—Å –∫–∞–º–ø–∞–Ω–∏–π)
- [ ] –ì–µ–æ—Ç–∞—Ä–≥–µ—Ç–∏–Ω–≥ –ø–æ –≥–æ—Ä–æ–¥–∞–º/—Ä–µ–≥–∏–æ–Ω–∞–º
- [ ] A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–∑–Ω—ã—Ö –±–∞–Ω–Ω–µ—Ä–æ–≤
- [ ] –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –ø–æ–∫–∞–∑–æ–≤ (–≤—Ä–µ–º—è —Å—É—Ç–æ–∫, –¥–Ω–∏ –Ω–µ–¥–µ–ª–∏)
- [ ] –õ–∏–º–∏—Ç—ã –ø–æ–∫–∞–∑–æ–≤/–∫–ª–∏–∫–æ–≤ (–±—é–¥–∂–µ—Ç –∫–∞–º–ø–∞–Ω–∏–∏)
- [ ] –†–µ—Ç–∞—Ä–≥–µ—Ç–∏–Ω–≥ (–ø–æ–∫–∞–∑ —Ä–∞–∑–Ω—ã—Ö –±–∞–Ω–Ω–µ—Ä–æ–≤ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –ø–æ–≤–µ–¥–µ–Ω–∏—è)
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Google Analytics
- [ ] –í–∏–¥–µ–æ-–±–∞–Ω–Ω–µ—Ä—ã

---

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞:** 2026-02-08  
**–í–µ—Ä—Å–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏:** 1.0.0  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ Ready for Testing
