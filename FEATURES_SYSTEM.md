# üîê –°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ñ–∏—á–∞–º–∏ –∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏

**–î–∞—Ç–∞:** 2026-02-08  
**–í–µ—Ä—Å–∏—è:** 1.0.0

## üìã –û–±–∑–æ—Ä

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ —Å–∫—Ä—ã—Ç–∏—è —Ñ—É–Ω–∫—Ü–∏–π –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø–æ–ª—è `features` –≤ —Ç–∞–±–ª–∏—Ü–µ `organizations` –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ –ø–æ–ª–µ `is_active`.

**–û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- –°–∫—Ä—ã—Ç–∏–µ –ø—É–Ω–∫—Ç–æ–≤ –º–µ–Ω—é –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ñ–∏—á
- –°–∫—Ä—ã—Ç–∏–µ –∫–∞—Ä—Ç–æ—á–µ–∫ –Ω–∞ Dashboard
- –†–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ –≥–ª–∞–≤–Ω—É—é –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –¥–æ—Å—Ç—É–ø–∞ –∫ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã–º —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º
- –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π (—Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ `/blocked`)
- –ó–∞—â–∏—Ç–∞ –Ω–∞ —É—Ä–æ–≤–Ω–µ middleware

---

## üóÇÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

### –ù–æ–≤—ã–µ —Ö—É–∫–∏

```
src/hooks/
‚îú‚îÄ‚îÄ useOrganization.ts    # –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Ç–µ–∫—É—â–µ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
‚îî‚îÄ‚îÄ useFeatures.ts        # –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ñ–∏—á
```

### –û–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

```
src/
‚îú‚îÄ‚îÄ components/layout/
‚îÇ   ‚îî‚îÄ‚îÄ Sidebar.tsx                # –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø—É–Ω–∫—Ç–æ–≤ –º–µ–Ω—é
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ page.tsx                   # –°–∫—Ä—ã—Ç–∏–µ –∫–∞—Ä—Ç–æ—á–µ–∫ –Ω–∞ Dashboard
‚îÇ   ‚îú‚îÄ‚îÄ payments/page.tsx          # –ü—Ä–æ–≤–µ—Ä–∫–∞ hasPayments
‚îÇ   ‚îú‚îÄ‚îÄ sms/page.tsx               # –ü—Ä–æ–≤–µ—Ä–∫–∞ hasSms
‚îÇ   ‚îî‚îÄ‚îÄ stats/page.tsx             # –ü—Ä–æ–≤–µ—Ä–∫–∞ hasAnalytics
‚îî‚îÄ‚îÄ middleware.ts                  # –ü—Ä–æ–≤–µ—Ä–∫–∞ is_active –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
```

---

## üîå –•—É–∫–∏

### `useOrganization()`

**–ü—É—Ç—å:** `src/hooks/useOrganization.ts`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ —Ç–µ–∫—É—â–µ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

**–ê–ª–≥–æ—Ä–∏—Ç–º:**
1. –ü–æ–ª—É—á–∞–µ—Ç —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —á–µ—Ä–µ–∑ `supabase.auth.getUser()`
2. –ù–∞—Ö–æ–¥–∏—Ç –∑–∞–ø–∏—Å—å –≤ `org_users` –ø–æ `user_id`
3. –ü–æ–ª—É—á–∞–µ—Ç –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—é –∏–∑ `organizations` –ø–æ `org_id`
4. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç `Organization`

**–í–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–π —Ç–∏–ø:**
```typescript
interface Organization {
  id: string
  name: string
  email: string | null
  phone: string | null
  category: string                    // salon/carwash/clinic/etc
  plan: string                        // basic/pro/enterprise
  is_active: boolean                  // –ê–∫—Ç–∏–≤–Ω–∞ –ª–∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è
  features: {
    sms: boolean                      // –î–æ—Å—Ç—É–ø –∫ SMS
    payments: boolean                 // –î–æ—Å—Ç—É–ø –∫ –ø–ª–∞—Ç–µ–∂–∞–º
    analytics: boolean                // –î–æ—Å—Ç—É–ø –∫ –∞–Ω–∞–ª–∏—Ç–∏–∫–µ
  }
  billing_status: string              // trial/paid/overdue/cancelled
  billing_due_date: string | null
  created_at: string
}
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```typescript
const { data: organization, isLoading } = useOrganization()

if (organization) {
  console.log(organization.name)
  console.log(organization.features.sms)
}
```

**–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ:**
- Query key: `['organization']`
- Stale time: 5 –º–∏–Ω—É—Ç
- Retry: 1 –ø–æ–ø—ã—Ç–∫–∞

---

### `useFeatures()`

**–ü—É—Ç—å:** `src/hooks/useFeatures.ts`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —É–¥–æ–±–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ñ–∏—á.

**–í–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–π —Ç–∏–ø:**
```typescript
interface Features {
  hasSms: boolean          // –î–æ—Å—Ç—É–ø –∫ SMS —Ä–∞—Å—Å—ã–ª–∫–∞–º
  hasPayments: boolean     // –î–æ—Å—Ç—É–ø –∫ –ø–ª–∞—Ç–µ–∂–∞–º
  hasAnalytics: boolean    // –î–æ—Å—Ç—É–ø –∫ –∞–Ω–∞–ª–∏—Ç–∏–∫–µ
  isActive: boolean        // –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –∞–∫—Ç–∏–≤–Ω–∞
  category: string         // –ö–∞—Ç–µ–≥–æ—Ä–∏—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
  isLoading: boolean       // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö
}
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```typescript
const features = useFeatures()

if (features.hasSms) {
  // –ü–æ–∫–∞–∑–∞—Ç—å SMS —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
}

if (!features.isActive) {
  // –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞
}
```

**–î–µ—Ñ–æ–ª—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:**
- –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∏–ª–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –≤—Å–µ —Ñ–∏—á–∏ = `false`
- `category = 'other'`
- `isLoading = true`

**Fallback –ª–æ–≥–∏–∫–∞:**
```typescript
hasSms: organization.features?.sms ?? true
hasPayments: organization.features?.payments ?? true
hasAnalytics: organization.features?.analytics ?? true
```

–ï—Å–ª–∏ –ø–æ–ª–µ `features` –Ω–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–æ –≤ –ë–î ‚Üí –≤—Å–µ —Ñ–∏—á–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.

---

## üß≠ Sidebar - –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –º–µ–Ω—é

**–§–∞–π–ª:** `src/components/layout/Sidebar.tsx`

### –õ–æ–≥–∏–∫–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏

–ü—É–Ω–∫—Ç—ã –º–µ–Ω—é –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –≤ –º–∞—Å—Å–∏–≤–µ `baseNavigation`:
```typescript
const baseNavigation = [
  { name: '◊ú◊ß◊ï◊ó◊ï◊™', href: '/clients', icon: Users, requireFeature: null },
  { name: '◊™◊©◊ú◊ï◊û◊ô◊ù', href: '/payments', icon: CreditCard, requireFeature: 'payments' },
  { name: '◊î◊ï◊ì◊¢◊ï◊™ SMS', href: '/sms', icon: MessageSquare, requireFeature: 'sms' },
  { name: '◊°◊ò◊ò◊ô◊°◊ò◊ô◊ß◊î', href: '/stats', icon: BarChart3, requireFeature: 'analytics' },
  { name: '◊î◊¶◊¢◊ï◊™ ◊©◊ï◊™◊§◊ô◊ù', href: '/partners', icon: Gift, requireFeature: null },
]
```

### –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–µ—Ä–µ–¥ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–æ–º

```typescript
const navigation = baseNavigation.filter((item) => {
  if (!item.requireFeature) return true
  
  if (item.requireFeature === 'payments') return features.hasPayments
  if (item.requireFeature === 'sms') return features.hasSms
  if (item.requireFeature === 'analytics') return features.hasAnalytics
  
  return true
})
```

### –†–µ–∑—É–ª—å—Ç–∞—Ç

- **–ï—Å–ª–∏ `hasPayments = false`** ‚Üí –ø—É–Ω–∫—Ç "◊™◊©◊ú◊ï◊û◊ô◊ù" –ù–ï –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è
- **–ï—Å–ª–∏ `hasSms = false`** ‚Üí –ø—É–Ω–∫—Ç "◊î◊ï◊ì◊¢◊ï◊™ SMS" –ù–ï –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è
- **–ï—Å–ª–∏ `hasAnalytics = false`** ‚Üí –ø—É–Ω–∫—Ç "◊°◊ò◊ò◊ô◊°◊ò◊ô◊ß◊î" –ù–ï –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è
- **–ü—É–Ω–∫—Ç—ã "◊ú◊ß◊ï◊ó◊ï◊™" –∏ "◊î◊¶◊¢◊ï◊™ ◊©◊ï◊™◊§◊ô◊ù"** –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –í–°–ï–ì–î–ê

---

## üè† Dashboard - –°–∫—Ä—ã—Ç–∏–µ –∫–∞—Ä—Ç–æ—á–µ–∫

**–§–∞–π–ª:** `src/app/page.tsx`

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

```typescript
useEffect(() => {
  if (!features.isLoading && !features.isActive) {
    router.push('/blocked')
  }
}, [features.isActive, features.isLoading, router])
```

–ï—Å–ª–∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –Ω–µ–∞–∫—Ç–∏–≤–Ω–∞ ‚Üí —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ `/blocked`.

### –£—Å–ª–æ–≤–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –∫–∞—Ä—Ç–æ—á–µ–∫

**–í—Å–µ–≥–¥–∞ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è:**
- ‚úÖ **◊°◊î◊¥◊õ ◊ú◊ß◊ï◊ó◊ï◊™** (–í—Å–µ–≥–æ –∫–ª–∏–µ–Ω—Ç–æ–≤)
- ‚úÖ **◊ë◊ô◊ß◊ï◊®◊ô◊ù ◊î◊ó◊ï◊ì◊©** (–í–∏–∑–∏—Ç—ã –∑–∞ –º–µ—Å—è—Ü)

**–£—Å–ª–æ–≤–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è:**

```typescript
{features.hasPayments && (
  <Card>
    {/* ◊î◊õ◊†◊°◊ï◊™ ◊î◊ó◊ï◊ì◊© (–î–æ—Ö–æ–¥—ã –∑–∞ –º–µ—Å—è—Ü) */}
  </Card>
)}

{features.hasAnalytics && (
  <Card>
    {/* ◊ú◊ß◊ï◊ó◊ï◊™ ◊ú◊ê ◊§◊¢◊ô◊ú◊ô◊ù (–ù–µ–∞–∫—Ç–∏–≤–Ω—ã–µ –∫–ª–∏–µ–Ω—Ç—ã) */}
  </Card>
)}
```

### –ö–∞—Ç–µ–≥–æ—Ä–∏—è –¥–ª—è AdBanner

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ä–µ–∞–ª—å–Ω–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏:
```typescript
<AdBanner category={features.category} />
```

---

## üìÑ –ó–∞—â–∏—Ç–∞ —Å—Ç—Ä–∞–Ω–∏—Ü

### `/payments` - –ü–ª–∞—Ç–µ–∂–∏

**–§–∞–π–ª:** `src/app/payments/page.tsx`

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```typescript
useEffect(() => {
  if (!features.isLoading) {
    if (!features.isActive) {
      router.push('/blocked')
    } else if (!features.hasPayments) {
      router.push('/')
    }
  }
}, [features.hasPayments, features.isActive, features.isLoading, router])
```

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:**
1. –ï—Å–ª–∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –Ω–µ–∞–∫—Ç–∏–≤–Ω–∞ ‚Üí `/blocked`
2. –ï—Å–ª–∏ –Ω–µ—Ç —Ñ–∏—á–∏ payments ‚Üí `/` (–≥–ª–∞–≤–Ω–∞—è)

---

### `/sms` - SMS —Ä–∞—Å—Å—ã–ª–∫–∏

**–§–∞–π–ª:** `src/app/sms/page.tsx`

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```typescript
useEffect(() => {
  if (!features.isLoading) {
    if (!features.isActive) {
      router.push('/blocked')
    } else if (!features.hasSms) {
      router.push('/')
    }
  }
}, [features.hasSms, features.isActive, features.isLoading, router])
```

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:**
1. –ï—Å–ª–∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –Ω–µ–∞–∫—Ç–∏–≤–Ω–∞ ‚Üí `/blocked`
2. –ï—Å–ª–∏ –Ω–µ—Ç —Ñ–∏—á–∏ sms ‚Üí `/` (–≥–ª–∞–≤–Ω–∞—è)

---

### `/stats` - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

**–§–∞–π–ª:** `src/app/stats/page.tsx`

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```typescript
useEffect(() => {
  if (!features.isLoading) {
    if (!features.isActive) {
      router.push('/blocked')
    } else if (!features.hasAnalytics) {
      router.push('/')
    }
  }
}, [features.hasAnalytics, features.isActive, features.isLoading, router])
```

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:**
1. –ï—Å–ª–∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –Ω–µ–∞–∫—Ç–∏–≤–Ω–∞ ‚Üí `/blocked`
2. –ï—Å–ª–∏ –Ω–µ—Ç —Ñ–∏—á–∏ analytics ‚Üí `/` (–≥–ª–∞–≤–Ω–∞—è)

---

## üöß Middleware - –ü—Ä–æ–≤–µ—Ä–∫–∞ is_active

**–§–∞–π–ª:** `middleware.ts`

### –î–æ–±–∞–≤–ª–µ–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞

–ü–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞:

```typescript
// 4) Organization active check (skip for admins and /blocked page)
if (orgRow && !isAdmin && pathname !== '/blocked') {
  const { data: organization } = await supabase
    .from('organizations')
    .select('is_active')
    .eq('id', orgRow.org_id)
    .maybeSingle()

  if (organization && !organization.is_active) {
    const url = req.nextUrl.clone()
    url.pathname = '/blocked'
    return NextResponse.redirect(url)
  }
}
```

### –ò—Å–∫–ª—é—á–µ–Ω–∏—è

- **–ê–¥–º–∏–Ω—ã** ‚Äî –º–æ–≥—É—Ç –æ–±—Ö–æ–¥–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏
- **–ü—É—Ç—å `/blocked`** ‚Äî —Ä–∞–∑—Ä–µ—à—ë–Ω –¥–ª—è –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **–ü—É–±–ª–∏—á–Ω—ã–µ –ø—É—Ç–∏** (`/login`, `/unauthorized`) ‚Äî –Ω–µ –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è

### –†–µ–∑—É–ª—å—Ç–∞—Ç

–ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—ã—Ç–∞–µ—Ç—Å—è –∑–∞–π—Ç–∏ –Ω–∞ –ª—é–±—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É (–∫—Ä–æ–º–µ `/blocked`) –∏ –µ–≥–æ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –Ω–µ–∞–∫—Ç–∏–≤–Ω–∞ ‚Üí —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ `/blocked`.

---

## üö´ –°—Ç—Ä–∞–Ω–∏—Ü–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏

**–ü—É—Ç—å:** `/blocked`  
**–§–∞–π–ª—ã:** `src/app/blocked/page.tsx`, `src/app/blocked/layout.tsx`

### –ö–æ–≥–¥–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è

- –ö–æ–≥–¥–∞ `organizations.is_active = false`
- Middleware –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–µ–¥–∏—Ä–µ–∫—Ç–∏—Ç —Å—é–¥–∞
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö —Ç–∞–∫–∂–µ –ø—Ä–æ–≤–µ—Ä—è—é—Ç –∏ —Ä–µ–¥–∏—Ä–µ–∫—Ç—è—Ç

### –°–æ–¥–µ—Ä–∂–∏–º–æ–µ

- –°–æ–æ–±—â–µ–Ω–∏–µ –æ –±–ª–æ–∫–∏—Ä–æ–≤–∫–µ
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–∏—á–∏–Ω–µ (–Ω–µ–æ–ø–ª–∞—Ç–∞, –Ω–∞—Ä—É—à–µ–Ω–∏–µ —É—Å–ª–æ–≤–∏–π –∏ —Ç.–¥.)
- –ö–æ–Ω—Ç–∞–∫—Ç—ã –¥–ª—è —Å–≤—è–∑–∏ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π

---

## üîÑ –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–∏—Å—Ç–µ–º–∞

### 1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞—Ö–æ–¥–∏—Ç –Ω–∞ —Å–∞–π—Ç

```
Middleware –ø—Ä–æ–≤–µ—Ä—è–µ—Ç:
‚îú‚îÄ –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (–µ—Å—Ç—å –ª–∏ user)
‚îú‚îÄ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–æ–ª–∏ (admin / org_user)
‚îî‚îÄ –ü—Ä–æ–≤–µ—Ä–∫–∞ is_active –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
   ‚îú‚îÄ –ï—Å–ª–∏ false ‚Üí —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ /blocked
   ‚îî‚îÄ –ï—Å–ª–∏ true ‚Üí –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å
```

### 2. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ

```
Dashboard (page.tsx):
‚îú‚îÄ useFeatures() –∑–∞–≥—Ä—É–∂–∞–µ—Ç —Ñ–∏—á–∏
‚îú‚îÄ –ü—Ä–æ–≤–µ—Ä–∫–∞ is_active
‚îÇ  ‚îî‚îÄ –ï—Å–ª–∏ false ‚Üí —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ /blocked
‚îú‚îÄ –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ –∫–∞—Ä—Ç–æ—á–µ–∫:
‚îÇ  ‚îú‚îÄ –ö–ª–∏–µ–Ω—Ç—ã: –≤—Å–µ–≥–¥–∞
‚îÇ  ‚îú‚îÄ –í–∏–∑–∏—Ç—ã: –≤—Å–µ–≥–¥–∞
‚îÇ  ‚îú‚îÄ –î–æ—Ö–æ–¥—ã: –µ—Å–ª–∏ hasPayments
‚îÇ  ‚îî‚îÄ –ù–µ–∞–∫—Ç–∏–≤–Ω—ã–µ: –µ—Å–ª–∏ hasAnalytics
‚îî‚îÄ AdBanner —Å –∫–∞—Ç–µ–≥–æ—Ä–∏–µ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
```

### 3. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤ Sidebar

```
Sidebar:
‚îú‚îÄ useFeatures() –∑–∞–≥—Ä—É–∂–∞–µ—Ç —Ñ–∏—á–∏
‚îú‚îÄ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è baseNavigation:
‚îÇ  ‚îú‚îÄ –ö–ª–∏–µ–Ω—Ç—ã: –≤—Å–µ–≥–¥–∞
‚îÇ  ‚îú‚îÄ –ü–ª–∞—Ç–µ–∂–∏: –µ—Å–ª–∏ hasPayments
‚îÇ  ‚îú‚îÄ SMS: –µ—Å–ª–∏ hasSms
‚îÇ  ‚îú‚îÄ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞: –µ—Å–ª–∏ hasAnalytics
‚îÇ  ‚îî‚îÄ –ü–∞—Ä—Ç–Ω—ë—Ä—ã: –≤—Å–µ–≥–¥–∞
‚îî‚îÄ –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞
```

### 4. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—ã—Ç–∞–µ—Ç—Å—è –∑–∞–π—Ç–∏ –Ω–∞ /payments

```
Payments Page:
‚îú‚îÄ useFeatures() –∑–∞–≥—Ä—É–∂–∞–µ—Ç —Ñ–∏—á–∏
‚îú‚îÄ useEffect –ø—Ä–æ–≤–µ—Ä—è–µ—Ç:
‚îÇ  ‚îú‚îÄ is_active? –ù–µ—Ç ‚Üí /blocked
‚îÇ  ‚îú‚îÄ hasPayments? –ù–µ—Ç ‚Üí /
‚îÇ  ‚îî‚îÄ –û–±–∞ true ‚Üí —Ä–∞–∑—Ä–µ—à–∏—Ç—å –¥–æ—Å—Ç—É–ø
‚îî‚îÄ –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø–ª–∞—Ç–µ–∂–µ–π
```

---

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ñ–∏—á

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤ –ë–î

–¢–∞–±–ª–∏—Ü–∞ `organizations`:
```sql
features JSONB DEFAULT '{"sms": true, "payments": true, "analytics": true}'::jsonb
```

### –ü—Ä–∏–º–µ—Ä –∑–∞–ø–∏—Å–∏

```json
{
  "id": "org-uuid",
  "name": "–°–∞–ª–æ–Ω –∫—Ä–∞—Å–æ—Ç—ã Leya",
  "category": "salon",
  "plan": "pro",
  "is_active": true,
  "features": {
    "sms": true,
    "payments": true,
    "analytics": false
  }
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø—É–Ω–∫—Ç "◊î◊ï◊ì◊¢◊ï◊™ SMS" ‚úÖ
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø—É–Ω–∫—Ç "◊™◊©◊ú◊ï◊û◊ô◊ù" ‚úÖ
- –ù–ï –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø—É–Ω–∫—Ç "◊°◊ò◊ò◊ô◊°◊ò◊ô◊ß◊î" ‚ùå
- –ù–ï –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∫–∞—Ä—Ç–æ—á–∫–∞ "◊ú◊ß◊ï◊ó◊ï◊™ ◊ú◊ê ◊§◊¢◊ô◊ú◊ô◊ù" ‚ùå
- –î–æ—Å—Ç—É–ø –∫ `/sms` –∏ `/payments` —Ä–∞–∑—Ä–µ—à—ë–Ω ‚úÖ
- –î–æ—Å—Ç—É–ø –∫ `/stats` –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω (—Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ `/`) ‚ùå

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –°—Ü–µ–Ω–∞—Ä–∏–∏ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

#### 1. –í—Å–µ —Ñ–∏—á–∏ –≤–∫–ª—é—á–µ–Ω—ã

**–î–∞–Ω–æ:**
```json
{
  "is_active": true,
  "features": {
    "sms": true,
    "payments": true,
    "analytics": true
  }
}
```

**–û–∂–∏–¥–∞–µ—Ç—Å—è:**
- ‚úÖ –í—Å–µ –ø—É–Ω–∫—Ç—ã –º–µ–Ω—é –≤–∏–¥–Ω—ã
- ‚úÖ –í—Å–µ –∫–∞—Ä—Ç–æ—á–∫–∏ –Ω–∞ Dashboard –≤–∏–¥–Ω—ã
- ‚úÖ –î–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º

#### 2. –û—Ç–∫–ª—é—á–µ–Ω—ã SMS

**–î–∞–Ω–æ:**
```json
{
  "is_active": true,
  "features": {
    "sms": false,
    "payments": true,
    "analytics": true
  }
}
```

**–û–∂–∏–¥–∞–µ—Ç—Å—è:**
- ‚ùå –ü—É–Ω–∫—Ç "◊î◊ï◊ì◊¢◊ï◊™ SMS" —Å–∫—Ä—ã—Ç
- ‚úÖ –û—Å—Ç–∞–ª—å–Ω—ã–µ –ø—É–Ω–∫—Ç—ã –≤–∏–¥–Ω—ã
- ‚ùå `/sms` ‚Üí —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ `/`

#### 3. –û—Ç–∫–ª—é—á–µ–Ω—ã –ø–ª–∞—Ç–µ–∂–∏

**–î–∞–Ω–æ:**
```json
{
  "is_active": true,
  "features": {
    "sms": true,
    "payments": false,
    "analytics": true
  }
}
```

**–û–∂–∏–¥–∞–µ—Ç—Å—è:**
- ‚ùå –ü—É–Ω–∫—Ç "◊™◊©◊ú◊ï◊û◊ô◊ù" —Å–∫—Ä—ã—Ç
- ‚ùå –ö–∞—Ä—Ç–æ—á–∫–∞ "◊î◊õ◊†◊°◊ï◊™ ◊î◊ó◊ï◊ì◊©" —Å–∫—Ä—ã—Ç–∞
- ‚ùå `/payments` ‚Üí —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ `/`

#### 4. –û—Ç–∫–ª—é—á–µ–Ω–∞ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞

**–î–∞–Ω–æ:**
```json
{
  "is_active": true,
  "features": {
    "sms": true,
    "payments": true,
    "analytics": false
  }
}
```

**–û–∂–∏–¥–∞–µ—Ç—Å—è:**
- ‚ùå –ü—É–Ω–∫—Ç "◊°◊ò◊ò◊ô◊°◊ò◊ô◊ß◊î" —Å–∫—Ä—ã—Ç
- ‚ùå –ö–∞—Ä—Ç–æ—á–∫–∞ "◊ú◊ß◊ï◊ó◊ï◊™ ◊ú◊ê ◊§◊¢◊ô◊ú◊ô◊ù" —Å–∫—Ä—ã—Ç–∞
- ‚ùå `/stats` ‚Üí —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ `/`

#### 5. –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞

**–î–∞–Ω–æ:**
```json
{
  "is_active": false,
  "features": {
    "sms": true,
    "payments": true,
    "analytics": true
  }
}
```

**–û–∂–∏–¥–∞–µ—Ç—Å—è:**
- ‚ùå –î–æ—Å—Ç—É–ø –∫ –ª—é–±–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ ‚Üí —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ `/blocked`
- ‚ùå Middleware –±–ª–æ–∫–∏—Ä—É–µ—Ç –Ω–∞ —É—Ä–æ–≤–Ω–µ —Å–µ—Ä–≤–µ—Ä–∞
- ‚úÖ –°—Ç—Ä–∞–Ω–∏—Ü–∞ `/blocked` –¥–æ—Å—Ç—É–ø–Ω–∞

#### 6. –ê–¥–º–∏–Ω

**–î–∞–Ω–æ:**
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –µ—Å—Ç—å –≤ `admin_users`
- –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞

**–û–∂–∏–¥–∞–µ—Ç—Å—è:**
- ‚úÖ Middleware –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç –∞–¥–º–∏–Ω–∞
- ‚úÖ –î–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º
- ‚úÖ –ú–æ–∂–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è–º–∏

---

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –£—Ä–æ–≤–Ω–∏ –∑–∞—â–∏—Ç—ã

**1. Middleware (—Å–µ—Ä–≤–µ—Ä–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å):**
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç `is_active` –î–û —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –æ–±–æ–π—Ç–∏ —á–µ—Ä–µ–∑ –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–π –∫–æ–¥
- –†–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ `/blocked` –¥–ª—è –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö

**2. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å—Ç—Ä–∞–Ω–∏—Ü (–∫–ª–∏–µ–Ω—Ç—Å–∫–∏–π —É—Ä–æ–≤–µ–Ω—å):**
- useEffect –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ñ–∏—á–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
- –†–µ–¥–∏—Ä–µ–∫—Ç –µ—Å–ª–∏ –Ω–µ—Ç –¥–æ—Å—Ç—É–ø–∞
- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∑–∞—â–∏—Ç–∞ –æ—Ç –ø—Ä—è–º—ã—Ö —Å—Å—ã–ª–æ–∫

**3. UI (UX —É—Ä–æ–≤–µ–Ω—å):**
- –°–∫—Ä—ã—Ç–∏–µ –ø—É–Ω–∫—Ç–æ–≤ –º–µ–Ω—é
- –°–∫—Ä—ã—Ç–∏–µ –∫–∞—Ä—Ç–æ—á–µ–∫
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –≤–∏–¥–∏—Ç –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

### –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ —É—è–∑–≤–∏–º–æ—Å—Ç–∏

‚ö†Ô∏è **API Routes –Ω–µ –∑–∞—â–∏—â–µ–Ω—ã –Ω–∞ —É—Ä–æ–≤–Ω–µ features**

–°–µ–π—á–∞—Å –∑–∞—â–∏—Ç–∞ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Ç–æ–ª—å–∫–æ –Ω–∞ UI –∏ middleware (–¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü). API endpoints (`/api/payments/*`, `/api/sms/*`) –¥–æ—Å—Ç—É–ø–Ω—ã –≤—Å–µ–º –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º.

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è –¥–ª—è production:**
–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É features –≤ API routes:
```typescript
// –í /api/payments/create-link/route.ts
const { data: org } = await supabase
  .from('org_users')
  .select('org_id')
  .eq('user_id', user.id)
  .single()

const { data: organization } = await supabase
  .from('organizations')
  .select('features')
  .eq('id', org.org_id)
  .single()

if (!organization.features.payments) {
  return NextResponse.json(
    { error: 'Payments feature not enabled' },
    { status: 403 }
  )
}
```

---

## üìù –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∏—á–∏ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ

```typescript
import { useFeatures } from '@/hooks/useFeatures'

function MyComponent() {
  const features = useFeatures()

  if (features.isLoading) {
    return <div>–ó–∞–≥—Ä—É–∑–∫–∞...</div>
  }

  return (
    <div>
      {features.hasSms && <SmsButton />}
      {features.hasPayments && <PaymentButton />}
      {features.hasAnalytics && <AnalyticsChart />}
    </div>
  )
}
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏

```typescript
const features = useFeatures()
const category = features.category // 'salon', 'carwash', etc.

<AdBanner category={category} />
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

```typescript
const features = useFeatures()

if (!features.isActive) {
  return <BlockedScreen />
}
```

---

## üöÄ –†–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ

### –®–∞–≥–∏ –¥–ª—è production

1. **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:**
   - –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –ø–æ–ª–µ `features` –∑–∞–ø–æ–ª–Ω–µ–Ω–æ –¥–ª—è –≤—Å–µ—Ö –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `is_active = true` –¥–ª—è –∞–∫—Ç–∏–≤–Ω—ã—Ö –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π
   - –°–æ–∑–¥–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –µ—Å–ª–∏ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ —Ñ–∏—á–∏

2. **–ó–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:**
   ```sql
   ALTER TABLE organizations 
   ALTER COLUMN features 
   SET DEFAULT '{"sms": true, "payments": true, "analytics": true}'::jsonb;
   ```

3. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
   - –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ —Ñ–∏—á
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–¥–∏—Ä–µ–∫—Ç—ã
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å middleware

4. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:**
   - –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ø—ã—Ç–∫–∏ –¥–æ—Å—Ç—É–ø–∞ –∫ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–º —Ñ–∏—á–∞–º
   - –û—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å —Ä–µ–¥–∏—Ä–µ–∫—Ç—ã –Ω–∞ `/blocked`

---

## üêõ –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

1. **API Routes –Ω–µ –∑–∞—â–∏—â–µ–Ω—ã:**
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –Ω–∞–ø—Ä—è–º—É—é –≤—ã–∑—ã–≤–∞—Ç—å API –¥–∞–∂–µ –µ—Å–ª–∏ —Ñ–∏—á–∞ –æ—Ç–∫–ª—é—á–µ–Ω–∞
   - –ù—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É features –≤ –∫–∞–∂–¥—ã–π endpoint

2. **–ö–∞—Ç–µ–≥–æ—Ä–∏—è hardcoded –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –º–µ—Å—Ç–∞—Ö:**
   - –ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ `/partners` –∫–∞—Ç–µ–≥–æ—Ä–∏—è –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω–∞
   - –ù—É–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ `features.category`

3. **–ù–µ—Ç –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ —É—Ä–æ–≤–Ω–µ middleware:**
   - –ü—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ –¥–µ–ª–∞–µ—Ç—Å—è SELECT –≤ organizations
   - –ú–æ–∂–Ω–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑ Redis –∏–ª–∏ cookies

4. **features –º–æ–∂–µ—Ç –±—ã—Ç—å null:**
   - –ï—Å–ª–∏ –ø–æ–ª–µ –Ω–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–æ –≤ –ë–î ‚Üí fallback –Ω–∞ `true`
   - –ú–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ

---

## üìù –ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

- [ ] –ó–∞—â–∏—Ç–∞ API endpoints –Ω–∞ —É—Ä–æ–≤–Ω–µ features
- [ ] –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
- [ ] –ë–æ–ª–µ–µ –¥–µ—Ç–∞–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ (–Ω–µ —Ç–æ–ª—å–∫–æ boolean)
- [ ] –õ–∏–º–∏—Ç—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, 100 SMS –≤ –º–µ—Å—è—Ü)
- [ ] –í—Ä–µ–º–µ–Ω–Ω–æ–µ –æ—Ç–∫–ª—é—á–µ–Ω–∏–µ —Ñ–∏—á (feature flags)
- [ ] A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∏—á
- [ ] –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ø—ã—Ç–æ–∫ –¥–æ—Å—Ç—É–ø–∞ –∫ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–º —Ñ–∏—á–∞–º
- [ ] –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø—Ä–∏ –æ—Ç–∫–ª—é—á–µ–Ω–∏–∏ —Ñ–∏—á

---

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞:** 2026-02-08  
**–í–µ—Ä—Å–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏:** 1.0.0  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ Ready for Testing
