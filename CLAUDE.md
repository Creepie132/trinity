# ğŸ§  CLAUDE.md - Trinity Project Memory

**Ğ¤Ğ°Ğ¹Ğ»-Ğ¿Ğ°Ğ¼ÑÑ‚ÑŒ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ° Ğ´Ğ»Ñ AI-Ğ°ÑÑĞ¸ÑÑ‚ĞµĞ½Ñ‚Ğ¾Ğ²**  
**Powered by Amber Solutions Systems**

Ğ­Ñ‚Ğ¾Ñ‚ Ñ„Ğ°Ğ¹Ğ» ÑĞ¾Ğ´ĞµÑ€Ğ¶Ğ¸Ñ‚ Ğ¿Ğ¾Ğ»Ğ½ÑƒÑ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ñƒ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°, Ñ‚ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ğ¸, Ğ±Ğ°Ğ·Ñƒ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ¸ Ğ²ÑĞµ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹. ĞŸÑ€Ğ¾Ñ‡Ğ¸Ñ‚Ğ°Ğ² Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ ĞµĞ³Ğ¾, Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ Ğ¿Ñ€Ğ¾Ğ´Ğ¾Ğ»Ğ¶Ğ¸Ñ‚ÑŒ Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºÑƒ Ñ Ğ½ÑƒĞ»Ñ.

**ĞŸĞ¾ÑĞ»ĞµĞ´Ğ½ĞµĞµ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ:** 2026-02-09  
**Ğ’ĞµÑ€ÑĞ¸Ñ:** 2.1.0

---

## âš¡ ĞĞ‘ĞĞĞ’Ğ›Ğ•ĞĞ˜Ğ¯ v2.1 (2026-02-09)

### ğŸ‰ ĞĞ¾Ğ²Ñ‹Ğµ Ğ²Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚Ğ¸:

**1. Ğ¡Ğ¸ÑÑ‚ĞµĞ¼Ğ° ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ Ñ„Ğ¸Ñ‡Ğ°Ğ¼Ğ¸**
- Ğ¥ÑƒĞº `useFeatures()` â€” Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ñ‹Ñ… Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¹
- Ğ¥ÑƒĞº `useOrganization()` â€” Ğ¿Ğ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ¾Ñ€Ğ³Ğ°Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸
- Ğ¡ĞºÑ€Ñ‹Ñ‚Ğ¸Ğµ Ğ¿ÑƒĞ½ĞºÑ‚Ğ¾Ğ² Ğ¼ĞµĞ½Ñ Ğ½Ğ° Ğ¾ÑĞ½Ğ¾Ğ²Ğµ `features.sms`, `features.payments`, `features.analytics`
- Ğ¡ĞºÑ€Ñ‹Ñ‚Ğ¸Ğµ ĞºĞ°Ñ€Ñ‚Ğ¾Ñ‡ĞµĞº Ğ½Ğ° Dashboard
- ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ Ñ€ĞµĞ´Ğ¸Ñ€ĞµĞºÑ‚Ñ‹ Ğ¿Ñ€Ğ¸ Ğ¿Ğ¾Ğ¿Ñ‹Ñ‚ĞºĞµ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ° Ğº Ğ½ĞµĞ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ñ‹Ğ¼ ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ğ°Ğ¼
- Middleware Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ÑĞµÑ‚ `organizations.is_active` Ğ¸ Ñ€ĞµĞ´Ğ¸Ñ€ĞµĞºÑ‚Ğ¸Ñ‚ Ğ½Ğ° `/blocked`
- Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ: `FEATURES_SYSTEM.md`

**2. Ğ‘Ğ°Ğ½Ğ½ĞµÑ€Ğ½Ğ°Ñ Ñ€ĞµĞºĞ»Ğ°Ğ¼Ğ°**
- ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚ `AdBanner` â€” Ğ¿Ğ¾ĞºĞ°Ğ· Ğ±Ğ°Ğ½Ğ½ĞµÑ€Ğ¾Ğ² Ğ½Ğ° Ğ¾ÑĞ½Ğ¾Ğ²Ğµ ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ğ¸ Ğ¾Ñ€Ğ³Ğ°Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸
- Ğ¡Ñ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ğ° `/partners` â€” Ğ²ÑĞµ Ğ¿Ğ°Ñ€Ñ‚Ğ½Ñ‘Ñ€ÑĞºĞ¸Ğµ Ğ¿Ñ€ĞµĞ´Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ
- API routes Ğ´Ğ»Ñ Ñ‚Ñ€ĞµĞºĞ¸Ğ½Ğ³Ğ°:
  - `POST /api/ads/impression` â€” ÑƒĞ²ĞµĞ»Ğ¸Ñ‡ĞµĞ½Ğ¸Ğµ Ğ¿Ğ¾ĞºĞ°Ğ·Ğ¾Ğ²
  - `POST /api/ads/click` â€” ÑƒĞ²ĞµĞ»Ğ¸Ñ‡ĞµĞ½Ğ¸Ğµ ĞºĞ»Ğ¸ĞºĞ¾Ğ²
  - `GET /api/ads/active` â€” Ğ¿Ğ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ñ‹Ñ… ĞºĞ°Ğ¼Ğ¿Ğ°Ğ½Ğ¸Ğ¹
- Ğ¤Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ Ğ¿Ğ¾ ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸ÑĞ¼ Ğ¸ Ğ´Ğ°Ñ‚Ğ°Ğ¼
- ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ Ñ‚Ñ€ĞµĞºĞ¸Ğ½Ğ³ Ğ¿Ğ¾ĞºĞ°Ğ·Ğ¾Ğ² Ğ¸ ĞºĞ»Ğ¸ĞºĞ¾Ğ²
- Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ: `ADS_IMPLEMENTATION.md`

**3. ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ğ¾ÑˆĞ¸Ğ±Ğ¾Ğº**
- `src/app/error.tsx` â€” Error Boundary Ğ´Ğ»Ñ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ½Ñ‹Ñ… Ğ¾ÑˆĞ¸Ğ±Ğ¾Ğº
- `src/app/global-error.tsx` â€” Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° ĞºÑ€Ğ¸Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ñ… Ğ¾ÑˆĞ¸Ğ±Ğ¾Ğº
- ĞšĞ½Ğ¾Ğ¿ĞºĞ¸ "× ×¡×” ×©×•×‘" (ĞŸĞ¾Ğ¿Ñ€Ğ¾Ğ±Ğ¾Ğ²Ğ°Ñ‚ÑŒ ÑĞ½Ğ¾Ğ²Ğ°) Ğ¸ "×—×–×•×¨ ×œ×“×£ ×”×‘×™×ª" (ĞĞ° Ğ³Ğ»Ğ°Ğ²Ğ½ÑƒÑ)
- Dev mode Ğ¿Ğ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚ Ğ´ĞµÑ‚Ğ°Ğ»Ğ¸ Ğ¾ÑˆĞ¸Ğ±ĞºĞ¸

**4. Ğ¢ĞµÑ…Ğ½Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ ÑƒĞ»ÑƒÑ‡ÑˆĞµĞ½Ğ¸Ñ**
- Tailwind CSS Ğ¾Ñ‚ĞºĞ°Ñ‡ĞµĞ½ Ğ½Ğ° ÑÑ‚Ğ°Ğ±Ğ¸Ğ»ÑŒĞ½ÑƒÑ Ğ²ĞµÑ€ÑĞ¸Ñ 3.4.17 (Ñ 4.x beta)
- ĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ñ‹ `tailwind.config.js`, `postcss.config.mjs`, `globals.css`
- Ğ’ÑĞµ ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ñ‹ Ğ¸Ğ¼ĞµÑÑ‚ `loading.tsx` skeletons
- RTL Ğ¿Ğ¾Ğ»Ğ½Ğ¾ÑÑ‚ÑŒÑ Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶Ğ¸Ğ²Ğ°ĞµÑ‚ÑÑ

---

## ğŸ“‹ ĞĞ³Ğ»Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ

1. [ĞĞ±Ğ·Ğ¾Ñ€ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°](#Ğ¾Ğ±Ğ·Ğ¾Ñ€-Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°)
2. [Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ²](#ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ°-Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ²)
3. [Ğ¢ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ ÑÑ‚ĞµĞº](#Ñ‚ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹-ÑÑ‚ĞµĞº)
4. [Ğ‘Ğ°Ğ·Ğ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Supabase](#Ğ±Ğ°Ğ·Ğ°-Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…-supabase)
5. [API Routes](#api-routes)
6. [Ğ¡Ñ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ñ‹ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ](#ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ñ‹-Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ)
7. [ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹](#ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹)
8. [Hooks](#hooks)
9. [Ğ‘Ğ¸Ğ±Ğ»Ğ¸Ğ¾Ñ‚ĞµĞºĞ¸ Ğ¸ ÑƒÑ‚Ğ¸Ğ»Ğ¸Ñ‚Ñ‹](#Ğ±Ğ¸Ğ±Ğ»Ğ¸Ğ¾Ñ‚ĞµĞºĞ¸-Ğ¸-ÑƒÑ‚Ğ¸Ğ»Ğ¸Ñ‚Ñ‹)
10. [ĞŸĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ğµ Ğ¾ĞºÑ€ÑƒĞ¶ĞµĞ½Ğ¸Ñ](#Ğ¿ĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ğµ-Ğ¾ĞºÑ€ÑƒĞ¶ĞµĞ½Ğ¸Ñ)
11. [ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ½Ñ‹Ğµ Ñ€ĞµÑˆĞµĞ½Ğ¸Ñ](#Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ½Ñ‹Ğµ-Ñ€ĞµÑˆĞµĞ½Ğ¸Ñ)

---

## ğŸ¯ ĞĞ±Ğ·Ğ¾Ñ€ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°

**Trinity** â€” Ğ¿Ğ¾Ğ»Ğ½Ğ¾Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ°Ñ SaaS CRM ÑĞ¸ÑÑ‚ĞµĞ¼Ğ° Ğ´Ğ»Ñ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ°Ğ¼Ğ¸, Ğ¿Ğ»Ğ°Ñ‚ĞµĞ¶Ğ°Ğ¼Ğ¸ Ğ¸ SMS-Ñ€Ğ°ÑÑÑ‹Ğ»ĞºĞ°Ğ¼Ğ¸.

### ĞšĞ»ÑÑ‡ĞµĞ²Ñ‹Ğµ Ğ²Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚Ğ¸:
- **Multi-tenancy:** ĞœĞ½Ğ¾Ğ¶ĞµÑÑ‚Ğ²Ğ¾ Ğ¾Ñ€Ğ³Ğ°Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¹ Ñ Ğ¸Ğ·Ğ¾Ğ»Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğ¼Ğ¸ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğ¼Ğ¸
- **Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ°Ğ¼Ğ¸:** CRUD Ğ¾Ğ¿ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸, Ğ¸ÑÑ‚Ğ¾Ñ€Ğ¸Ñ Ğ²Ğ¸Ğ·Ğ¸Ñ‚Ğ¾Ğ², Ğ¿Ğ»Ğ°Ñ‚ĞµĞ¶ĞµĞ¹
- **ĞŸĞ»Ğ°Ñ‚ĞµĞ¶Ğ¸:** Ğ˜Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ Ñ Tranzilla (Ğ˜Ğ·Ñ€Ğ°Ğ¸Ğ»ÑŒ)
- **SMS Ñ€Ğ°ÑÑÑ‹Ğ»ĞºĞ¸:** InforU Mobile API
- **ĞĞ½Ğ°Ğ»Ğ¸Ñ‚Ğ¸ĞºĞ°:** Ğ“Ñ€Ğ°Ñ„Ğ¸ĞºĞ¸ Ğ´Ğ¾Ñ…Ğ¾Ğ´Ğ¾Ğ², Ğ²Ğ¸Ğ·Ğ¸Ñ‚Ğ¾Ğ², Ñ‚Ğ¾Ğ¿ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ¾Ğ²
- **ĞĞ´Ğ¼Ğ¸Ğ½-Ğ¿Ğ°Ğ½ĞµĞ»ÑŒ:** Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ¾Ñ€Ğ³Ğ°Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸ÑĞ¼Ğ¸, Ğ±Ğ¸Ğ»Ğ»Ğ¸Ğ½Ğ³, Ñ€ĞµĞºĞ»Ğ°Ğ¼Ğ°
- **Ğ¡Ğ¸ÑÑ‚ĞµĞ¼Ğ° Ñ„Ğ¸Ñ‡:** Ğ“Ğ¸Ğ±ĞºĞ¾Ğµ Ğ²ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ/Ğ¾Ñ‚ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¹
- **Ğ‘Ğ°Ğ½Ğ½ĞµÑ€Ğ½Ğ°Ñ Ñ€ĞµĞºĞ»Ğ°Ğ¼Ğ°:** ĞœĞ¾Ğ½ĞµÑ‚Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ñ‡ĞµÑ€ĞµĞ· Ğ¿Ğ°Ñ€Ñ‚Ğ½Ñ‘Ñ€ÑĞºĞ¸Ğµ ĞºĞ°Ğ¼Ğ¿Ğ°Ğ½Ğ¸Ğ¸
- **RTL Ğ¸Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹Ñ:** ĞŸĞ¾Ğ»Ğ½Ğ°Ñ Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ° Ğ¸Ğ²Ñ€Ğ¸Ñ‚Ğ°

### Ğ¦ĞµĞ»ĞµĞ²Ğ°Ñ Ğ°ÑƒĞ´Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ñ:
- ĞœĞ°Ğ»Ñ‹Ğ¹ Ğ¸ ÑÑ€ĞµĞ´Ğ½Ğ¸Ğ¹ Ğ±Ğ¸Ğ·Ğ½ĞµÑ Ğ² Ğ˜Ğ·Ñ€Ğ°Ğ¸Ğ»Ğµ
- Ğ¡ĞµÑ€Ğ²Ğ¸ÑĞ½Ñ‹Ğµ ĞºĞ¾Ğ¼Ğ¿Ğ°Ğ½Ğ¸Ğ¸ (ÑĞ°Ğ»Ğ¾Ğ½Ñ‹ ĞºÑ€Ğ°ÑĞ¾Ñ‚Ñ‹, Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ¾Ğ¹ĞºĞ¸, ĞºĞ»Ğ¸Ğ½Ğ¸ĞºĞ¸, Ñ€ĞµÑÑ‚Ğ¾Ñ€Ğ°Ğ½Ñ‹, ÑĞ¿Ğ¾Ñ€Ñ‚Ğ·Ğ°Ğ»Ñ‹)

---

## ğŸ“ Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ²

### ĞŸĞ¾Ğ»Ğ½Ğ°Ñ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°:

```
clientbase-pro/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/                                    # Next.js App Router
â”‚   â”‚   â”œâ”€â”€ admin/                              # â­ ĞĞ”ĞœĞ˜Ğ-ĞŸĞĞĞ•Ğ›Ğ¬
â”‚   â”‚   â”‚   â”œâ”€â”€ layout.tsx                      # Layout Ñ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ¾Ğ¹ is_admin()
â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx                        # Ğ”Ğ°ÑˆĞ±Ğ¾Ñ€Ğ´ Ğ°Ğ´Ğ¼Ğ¸Ğ½Ğ°
â”‚   â”‚   â”‚   â”œâ”€â”€ organizations/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ page.tsx                    # Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ¾Ñ€Ğ³Ğ°Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸ÑĞ¼Ğ¸
â”‚   â”‚   â”‚   â”œâ”€â”€ billing/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ page.tsx                    # Ğ‘Ğ¸Ğ»Ğ»Ğ¸Ğ½Ğ³ Ğ¸ Ğ¿Ğ¾Ğ´Ğ¿Ğ¸ÑĞºĞ¸
â”‚   â”‚   â”‚   â”œâ”€â”€ ads/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx                    # Ğ ĞµĞºĞ»Ğ°Ğ¼Ğ½Ñ‹Ğµ ĞºĞ°Ğ¼Ğ¿Ğ°Ğ½Ğ¸Ğ¸
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ page-safe.tsx              # Ğ‘ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ°Ñ Ğ²ĞµÑ€ÑĞ¸Ñ
â”‚   â”‚   â”‚   â””â”€â”€ settings/
â”‚   â”‚   â”‚       â””â”€â”€ page.tsx                    # ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ ÑĞ¸ÑÑ‚ĞµĞ¼Ñ‹
â”‚   â”‚   â”œâ”€â”€ blocked/                            # â­ Ğ¡Ñ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ğ° Ğ±Ğ»Ğ¾ĞºĞ¸Ñ€Ğ¾Ğ²ĞºĞ¸
â”‚   â”‚   â”‚   â”œâ”€â”€ layout.tsx
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”‚   â”œâ”€â”€ clients/                            # ĞšĞ»Ğ¸ĞµĞ½Ñ‚Ñ‹
â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx
â”‚   â”‚   â”‚   â””â”€â”€ loading.tsx
â”‚   â”‚   â”œâ”€â”€ payments/                           # ĞŸĞ»Ğ°Ñ‚ĞµĞ¶Ğ¸
â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx
â”‚   â”‚   â”‚   â””â”€â”€ loading.tsx
â”‚   â”‚   â”œâ”€â”€ sms/                                # SMS Ñ€Ğ°ÑÑÑ‹Ğ»ĞºĞ¸
â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx
â”‚   â”‚   â”‚   â””â”€â”€ loading.tsx
â”‚   â”‚   â”œâ”€â”€ stats/                              # Ğ¡Ñ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ°
â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx
â”‚   â”‚   â”‚   â””â”€â”€ loading.tsx
â”‚   â”‚   â”œâ”€â”€ partners/                           # â­ ĞŸĞ°Ñ€Ñ‚Ğ½Ñ‘Ñ€ÑĞºĞ¸Ğµ Ğ¿Ñ€ĞµĞ´Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ
â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx
â”‚   â”‚   â”‚   â””â”€â”€ loading.tsx
â”‚   â”‚   â”œâ”€â”€ login/
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”‚   â”œâ”€â”€ unauthorized/
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”‚   â”œâ”€â”€ debug-admin/
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”‚   â”œâ”€â”€ api/                                # API Routes
â”‚   â”‚   â”‚   â”œâ”€â”€ admin/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ check/route.ts             # â­ ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° is_admin()
â”‚   â”‚   â”‚   â”œâ”€â”€ ads/                            # â­ Ğ‘ĞĞĞĞ•Ğ ĞĞĞ¯ Ğ Ğ•ĞšĞ›ĞĞœĞ API
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ active/route.ts            # GET Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ñ‹Ğµ ĞºĞ°Ğ¼Ğ¿Ğ°Ğ½Ğ¸Ğ¸
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ click/route.ts             # POST Ñ‚Ñ€ĞµĞºĞ¸Ğ½Ğ³ ĞºĞ»Ğ¸ĞºĞ¾Ğ²
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ impression/route.ts        # POST Ñ‚Ñ€ĞµĞºĞ¸Ğ½Ğ³ Ğ¿Ğ¾ĞºĞ°Ğ·Ğ¾Ğ²
â”‚   â”‚   â”‚   â”œâ”€â”€ payments/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ create-link/route.ts       # POST ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ ÑÑÑ‹Ğ»ĞºĞ¸
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ webhook/route.ts           # POST webhook Tranzilla
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ callback/route.ts          # GET redirect Ğ¿Ğ¾ÑĞ»Ğµ Ğ¾Ğ¿Ğ»Ğ°Ñ‚Ñ‹
â”‚   â”‚   â”‚   â”œâ”€â”€ sms/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ campaign/route.ts          # POST ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ ĞºĞ°Ğ¼Ğ¿Ğ°Ğ½Ğ¸Ğ¸
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ send/route.ts              # POST Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²ĞºĞ° SMS
â”‚   â”‚   â”‚   â”œâ”€â”€ upload/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ banner/route.ts            # POST Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ° Ğ±Ğ°Ğ½Ğ½ĞµÑ€Ğ¾Ğ²
â”‚   â”‚   â”‚   â””â”€â”€ health/route.ts                # GET health check
â”‚   â”‚   â”œâ”€â”€ callback/
â”‚   â”‚   â”‚   â””â”€â”€ route.ts                       # Auth callback
â”‚   â”‚   â”œâ”€â”€ layout.tsx                         # Root layout (RTL)
â”‚   â”‚   â”œâ”€â”€ page.tsx                           # Dashboard
â”‚   â”‚   â”œâ”€â”€ loading.tsx                        # Global loading
â”‚   â”‚   â”œâ”€â”€ error.tsx                          # â­ Error Boundary
â”‚   â”‚   â”œâ”€â”€ global-error.tsx                   # â­ Global error handler
â”‚   â”‚   â”œâ”€â”€ not-found.tsx                      # 404 page
â”‚   â”‚   â””â”€â”€ globals.css                        # â­ Tailwind 3.x styles
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ ads/                               # â­ Ğ‘ĞĞĞĞ•Ğ ĞĞĞ¯ Ğ Ğ•ĞšĞ›ĞĞœĞ
â”‚   â”‚   â”‚   â””â”€â”€ AdBanner.tsx                   # ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚ Ğ±Ğ°Ğ½Ğ½ĞµÑ€Ğ°
â”‚   â”‚   â”œâ”€â”€ clients/
â”‚   â”‚   â”‚   â”œâ”€â”€ AddClientDialog.tsx
â”‚   â”‚   â”‚   â””â”€â”€ ClientSheet.tsx
â”‚   â”‚   â”œâ”€â”€ payments/
â”‚   â”‚   â”‚   â”œâ”€â”€ CreatePaymentDialog.tsx
â”‚   â”‚   â”‚   â””â”€â”€ CreatePaymentLinkDialog.tsx
â”‚   â”‚   â”œâ”€â”€ sms/
â”‚   â”‚   â”‚   â”œâ”€â”€ NewCampaignForm.tsx
â”‚   â”‚   â”‚   â””â”€â”€ CampaignDetailsSheet.tsx
â”‚   â”‚   â”œâ”€â”€ layout/
â”‚   â”‚   â”‚   â”œâ”€â”€ Sidebar.tsx                    # â­ Ğ¡ Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ°Ñ†Ğ¸ĞµĞ¹ Ñ„Ğ¸Ñ‡
â”‚   â”‚   â”‚   â””â”€â”€ AdminSidebar.tsx
â”‚   â”‚   â”œâ”€â”€ providers/
â”‚   â”‚   â”‚   â””â”€â”€ QueryProvider.tsx
â”‚   â”‚   â”œâ”€â”€ ui/                                # shadcn/ui ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹
â”‚   â”‚   â”‚   â”œâ”€â”€ alert-dialog.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ badge.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ button.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ card.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ dialog.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ dropdown-menu.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ input.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ label.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ select.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ separator.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ sheet.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ sonner.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ switch.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ table.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ tabs.tsx
â”‚   â”‚   â”‚   â””â”€â”€ textarea.tsx
â”‚   â”‚   â””â”€â”€ ErrorBoundary.tsx
â”‚   â”œâ”€â”€ hooks/
â”‚   â”‚   â”œâ”€â”€ useOrganization.ts                 # â­ ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ Ğ¾Ñ€Ğ³Ğ°Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸
â”‚   â”‚   â”œâ”€â”€ useFeatures.ts                     # â­ ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ñ„Ğ¸Ñ‡
â”‚   â”‚   â”œâ”€â”€ useAuth.ts
â”‚   â”‚   â”œâ”€â”€ useIsAdmin.ts
â”‚   â”‚   â”œâ”€â”€ useAdmin.ts
â”‚   â”‚   â”œâ”€â”€ useClients.ts
â”‚   â”‚   â”œâ”€â”€ usePayments.ts
â”‚   â”‚   â”œâ”€â”€ useSms.ts
â”‚   â”‚   â””â”€â”€ useStats.ts
â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â”œâ”€â”€ supabase.ts                        # Supabase ĞºĞ»Ğ¸ĞµĞ½Ñ‚
â”‚   â”‚   â”œâ”€â”€ supabase-browser.ts
â”‚   â”‚   â”œâ”€â”€ tranzilla.ts                       # Tranzilla API
â”‚   â”‚   â”œâ”€â”€ inforu.ts                          # InforU SMS API
â”‚   â”‚   â””â”€â”€ utils.ts                           # CN ÑƒÑ‚Ğ¸Ğ»Ğ¸Ñ‚Ğ°
â”‚   â””â”€â”€ types/
â”‚       â””â”€â”€ database.ts                        # TypeScript Ñ‚Ğ¸Ğ¿Ñ‹ Ğ‘Ğ”
â”œâ”€â”€ supabase/                                  # SQL Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¸
â”‚   â”œâ”€â”€ schema-v2.sql                          # ĞŸĞ¾Ğ»Ğ½Ğ°Ñ ÑÑ…ĞµĞ¼Ğ° v2.0
â”‚   â”œâ”€â”€ schema-v2-part1.sql                    # Tables
â”‚   â”œâ”€â”€ schema-v2-part2.sql                    # RLS policies
â”‚   â”œâ”€â”€ schema-v2-part3.sql                    # Views
â”‚   â”œâ”€â”€ create-storage-bucket.sql              # Storage setup
â”‚   â”œâ”€â”€ quick-fix-ad-campaigns.sql
â”‚   â””â”€â”€ URGENT_FIX_RLS.sql
â”œâ”€â”€ docs/                                      # Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ
â”‚   â”œâ”€â”€ ADMIN_SETUP.md
â”‚   â”œâ”€â”€ ADS_IMPLEMENTATION.md                  # â­ Ğ‘Ğ°Ğ½Ğ½ĞµÑ€Ğ½Ğ°Ñ Ñ€ĞµĞºĞ»Ğ°Ğ¼Ğ°
â”‚   â”œâ”€â”€ FEATURES_SYSTEM.md                     # â­ Ğ¡Ğ¸ÑÑ‚ĞµĞ¼Ğ° Ñ„Ğ¸Ñ‡
â”‚   â”œâ”€â”€ SETUP.md
â”‚   â”œâ”€â”€ PAYMENTS_GUIDE.md
â”‚   â”œâ”€â”€ SMS_GUIDE.md
â”‚   â””â”€â”€ STORAGE_SETUP.md
â”œâ”€â”€ tailwind.config.js                         # â­ Tailwind 3.x config
â”œâ”€â”€ postcss.config.mjs                         # â­ PostCSS config
â”œâ”€â”€ next.config.ts                             # Next.js config
â”œâ”€â”€ middleware.ts                              # â­ Ğ¡ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ¾Ğ¹ is_active
â”œâ”€â”€ package.json                               # â­ ĞĞ±Ğ½Ğ¾Ğ²Ğ»Ñ‘Ğ½Ğ½Ñ‹Ğµ Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚Ğ¸
â”œâ”€â”€ components.json                            # shadcn/ui config
â”œâ”€â”€ README.md
â””â”€â”€ CLAUDE.md                                  # Ğ­Ñ‚Ğ¾Ñ‚ Ñ„Ğ°Ğ¹Ğ»
```

---

## ğŸ›  Ğ¢ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ ÑÑ‚ĞµĞº

### Frontend Framework:
- **Next.js 16.1.6** (App Router)
  - Server Components Ğ¿Ğ¾ ÑƒĞ¼Ğ¾Ğ»Ñ‡Ğ°Ğ½Ğ¸Ñ
  - API Routes
  - Turbopack Ğ´Ğ»Ñ dev (Ñ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¾Ğ¹ root)
  - Metadata API

### Language:
- **TypeScript 5.9.3**
  - Ğ¡Ñ‚Ñ€Ğ¾Ğ³Ğ°Ñ Ñ‚Ğ¸Ğ¿Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ
  - Ğ¢Ğ¸Ğ¿Ñ‹ Ğ´Ğ»Ñ Ğ²ÑĞµÑ… ÑÑƒÑ‰Ğ½Ğ¾ÑÑ‚ĞµĞ¹ Ğ‘Ğ”

### Styling:
- **Tailwind CSS 3.4.17** â­ (Ğ¾Ñ‚ĞºĞ°Ñ‡ĞµĞ½Ğ¾ Ñ 4.x beta)
  - Utility-first Ğ¿Ğ¾Ğ´Ñ…Ğ¾Ğ´
  - ĞšĞ°ÑÑ‚Ğ¾Ğ¼Ğ½Ğ°Ñ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ
  - RTL Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ°
- **shadcn/ui 3.8.4**
  - ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹ UI
  - Radix UI primitives
  - ĞŸĞ¾Ğ»Ğ½Ğ¾ÑÑ‚ÑŒÑ ĞºĞ°ÑÑ‚Ğ¾Ğ¼Ğ¸Ğ·Ğ¸Ñ€ÑƒĞµĞ¼Ñ‹Ğµ

### State Management:
- **React Query (@tanstack/react-query) 5.90.20**
  - ĞšÑÑˆĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ¾Ğ²
  - ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ
  - ĞĞ¿Ñ‚Ğ¸Ğ¼Ğ¸ÑÑ‚Ğ¸Ñ‡Ğ½Ñ‹Ğµ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ñ
  - Stale time: 5 Ğ¼Ğ¸Ğ½ÑƒÑ‚ Ğ´Ğ»Ñ Ğ¾Ñ€Ğ³Ğ°Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¹

### Database:
- **Supabase**
  - PostgreSQL
  - REST API (@supabase/supabase-js 2.95.3)
  - SSR support (@supabase/ssr 0.8.0)
  - Row Level Security (RLS)
  - Storage Ğ´Ğ»Ñ Ğ±Ğ°Ğ½Ğ½ĞµÑ€Ğ¾Ğ²

### External APIs:
- **Tranzilla** â€” Ğ¿Ğ»Ğ°Ñ‚Ñ‘Ğ¶Ğ½Ñ‹Ğ¹ ÑˆĞ»ÑĞ· (Ğ˜Ğ·Ñ€Ğ°Ğ¸Ğ»ÑŒ)
  - Sandbox: https://sandbox.tranzilla.co.il
  - Hosted payment page
- **InforU Mobile** â€” SMS API (Ğ˜Ğ·Ñ€Ğ°Ğ¸Ğ»ÑŒ)
  - REST API: https://api.inforu.co.il

### Charts & Analytics:
- **Recharts 3.7.0**
  - Bar Chart (ÑÑ‚Ğ¾Ğ»Ğ±Ñ‡Ğ°Ñ‚Ñ‹Ğµ)
  - Line Chart (Ğ»Ğ¸Ğ½ĞµĞ¹Ğ½Ñ‹Ğµ)
  - Horizontal Bar (Ğ³Ğ¾Ñ€Ğ¸Ğ·Ğ¾Ğ½Ñ‚Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ)
  - Responsive
  - RTL ÑĞ¾Ğ²Ğ¼ĞµÑÑ‚Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ

### Utilities:
- **date-fns 4.1.0** â€” Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ° Ñ Ğ´Ğ°Ñ‚Ğ°Ğ¼Ğ¸
- **zod 4.3.6** â€” Ğ²Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ñ
- **lucide-react 0.563.0** â€” Ğ¸ĞºĞ¾Ğ½ĞºĞ¸
- **sonner 2.0.7** â€” toast notifications
- **clsx / tailwind-merge** â€” ĞºĞ»Ğ°ÑÑÑ‹

---

## ğŸ—„ï¸ Ğ‘Ğ°Ğ·Ğ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Supabase

### ĞŸĞ¾Ğ»Ğ½Ğ°Ñ ÑÑ…ĞµĞ¼Ğ° Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†:

---

#### 1. `organizations` â€” ĞÑ€Ğ³Ğ°Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸ (ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ñ‹ SaaS)

**ĞĞ°Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ:** ĞœÑƒĞ»ÑŒÑ‚Ğ¸Ñ‚ĞµĞ½Ğ°Ğ½Ñ‚Ğ½Ğ¾ÑÑ‚ÑŒ, ĞºĞ°Ğ¶Ğ´Ğ°Ñ Ğ¾Ñ€Ğ³Ğ°Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ¸Ğ·Ğ¾Ğ»Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ°

**ĞŸĞ¾Ğ»Ñ:**

| ĞŸĞ¾Ğ»Ğµ | Ğ¢Ğ¸Ğ¿ | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ |
|------|-----|----------|
| `id` | UUID | PRIMARY KEY |
| `name` | TEXT | ĞĞ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¾Ñ€Ğ³Ğ°Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸ |
| `email` | TEXT | Email Ğ¾Ñ€Ğ³Ğ°Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸ |
| `phone` | TEXT | Ğ¢ĞµĞ»ĞµÑ„Ğ¾Ğ½ |
| `category` | TEXT | salon/carwash/clinic/restaurant/gym/other |
| `plan` | TEXT | basic/pro/enterprise |
| `is_active` | BOOLEAN | ĞĞºÑ‚Ğ¸Ğ²Ğ½Ğ° Ğ»Ğ¸ (Ğ´Ğ»Ñ Ğ±Ğ»Ğ¾ĞºĞ¸Ñ€Ğ¾Ğ²ĞºĞ¸) |
| `features` | JSONB | {"sms": true, "payments": true, "analytics": true} |
| `billing_status` | TEXT | trial/paid/overdue/cancelled |
| `billing_due_date` | DATE | Ğ”Ğ°Ñ‚Ğ° ÑĞ»ĞµĞ´ÑƒÑÑ‰ĞµĞ¹ Ğ¾Ğ¿Ğ»Ğ°Ñ‚Ñ‹ |
| `created_at` | TIMESTAMPTZ | Ğ”Ğ°Ñ‚Ğ° ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ñ |

**Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ÑÑ Ğ²:**
- Middleware Ğ´Ğ»Ñ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ¸ `is_active`
- `useOrganization()` hook
- ĞĞ´Ğ¼Ğ¸Ğ½-Ğ¿Ğ°Ğ½ĞµĞ»ÑŒ Ğ´Ğ»Ñ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ
- AdBanner Ğ´Ğ»Ñ ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ğ¸

---

#### 2. `org_users` â€” ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ğ¸ Ğ¾Ñ€Ğ³Ğ°Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¹

**ĞŸĞ¾Ğ»Ñ:**

| ĞŸĞ¾Ğ»Ğµ | Ğ¢Ğ¸Ğ¿ | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ |
|------|-----|----------|
| `id` | UUID | PRIMARY KEY |
| `org_id` | UUID | FK â†’ organizations(id) |
| `user_id` | UUID | FK â†’ auth.users(id) |
| `email` | TEXT | Email Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ |
| `role` | TEXT | owner/admin/staff |
| `invited_at` | TIMESTAMPTZ | Ğ”Ğ°Ñ‚Ğ° Ğ¿Ñ€Ğ¸Ğ³Ğ»Ğ°ÑˆĞµĞ½Ğ¸Ñ |
| `joined_at` | TIMESTAMPTZ | Ğ”Ğ°Ñ‚Ğ° Ğ¿Ñ€Ğ¸ÑĞ¾ĞµĞ´Ğ¸Ğ½ĞµĞ½Ğ¸Ñ |

**Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ÑÑ Ğ²:**
- Middleware Ğ´Ğ»Ñ Ğ¾Ğ¿Ñ€ĞµĞ´ĞµĞ»ĞµĞ½Ğ¸Ñ org_id Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ
- ĞĞ´Ğ¼Ğ¸Ğ½ĞºĞ° Ğ´Ğ»Ñ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ¾Ğ¹

---

#### 3. `admin_users` â€” Ğ¡ÑƒĞ¿ĞµÑ€Ğ°Ğ´Ğ¼Ğ¸Ğ½Ñ‹ ÑĞ¸ÑÑ‚ĞµĞ¼Ñ‹

**ĞŸĞ¾Ğ»Ñ:**

| ĞŸĞ¾Ğ»Ğµ | Ğ¢Ğ¸Ğ¿ | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ |
|------|-----|----------|
| `id` | UUID | PRIMARY KEY |
| `user_id` | UUID | FK â†’ auth.users(id) |
| `email` | TEXT | Email Ğ°Ğ´Ğ¼Ğ¸Ğ½Ğ° |
| `created_at` | TIMESTAMPTZ | Ğ”Ğ°Ñ‚Ğ° Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ |

**Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ÑÑ Ğ²:**
- Middleware Ğ´Ğ»Ñ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ¸ Ğ°Ğ´Ğ¼Ğ¸Ğ½ÑĞºĞ¸Ñ… Ğ¿Ñ€Ğ°Ğ²
- `/api/admin/check` Ğ´Ğ»Ñ ĞºĞ»Ğ¸ĞµĞ½Ñ‚ÑĞºĞ¾Ğ¹ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ¸
- `useIsAdmin()` hook

---

#### 4. `ad_campaigns` â€” Ğ ĞµĞºĞ»Ğ°Ğ¼Ğ½Ñ‹Ğµ ĞºĞ°Ğ¼Ğ¿Ğ°Ğ½Ğ¸Ğ¸

**ĞŸĞ¾Ğ»Ñ:**

| ĞŸĞ¾Ğ»Ğµ | Ğ¢Ğ¸Ğ¿ | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ |
|------|-----|----------|
| `id` | UUID | PRIMARY KEY |
| `advertiser_name` | TEXT | ĞĞ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ğµ Ñ€ĞµĞºĞ»Ğ°Ğ¼Ğ¾Ğ´Ğ°Ñ‚ĞµĞ»Ñ |
| `banner_url` | TEXT | URL Ğ±Ğ°Ğ½Ğ½ĞµÑ€Ğ° (Supabase Storage) |
| `link_url` | TEXT | Ğ¡ÑÑ‹Ğ»ĞºĞ° Ğ¿Ñ€Ğ¸ ĞºĞ»Ğ¸ĞºĞµ |
| `target_categories` | TEXT[] | ĞœĞ°ÑÑĞ¸Ğ² ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ğ¹ ['salon', 'gym'] |
| `start_date` | DATE | Ğ”Ğ°Ñ‚Ğ° Ğ½Ğ°Ñ‡Ğ°Ğ»Ğ° |
| `end_date` | DATE | Ğ”Ğ°Ñ‚Ğ° Ğ¾ĞºĞ¾Ğ½Ñ‡Ğ°Ğ½Ğ¸Ñ |
| `is_active` | BOOLEAN | ĞĞºÑ‚Ğ¸Ğ²Ğ½Ğ° Ğ»Ğ¸ ĞºĞ°Ğ¼Ğ¿Ğ°Ğ½Ğ¸Ñ |
| `clicks` | INTEGER | ĞšĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾ ĞºĞ»Ğ¸ĞºĞ¾Ğ² |
| `impressions` | INTEGER | ĞšĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾ Ğ¿Ğ¾ĞºĞ°Ğ·Ğ¾Ğ² |
| `created_at` | TIMESTAMPTZ | Ğ”Ğ°Ñ‚Ğ° ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ñ |

**Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ÑÑ Ğ²:**
- `AdBanner` ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚
- `/partners` ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ğ°
- API routes Ğ´Ğ»Ñ Ñ‚Ñ€ĞµĞºĞ¸Ğ½Ğ³Ğ°
- ĞĞ´Ğ¼Ğ¸Ğ½ĞºĞ° Ğ´Ğ»Ñ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ

---

#### 5. `clients` â€” ĞšĞ»Ğ¸ĞµĞ½Ñ‚Ñ‹ Ğ¾Ñ€Ğ³Ğ°Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¹

**ĞŸĞ¾Ğ»Ñ:**

| ĞŸĞ¾Ğ»Ğµ | Ğ¢Ğ¸Ğ¿ | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ |
|------|-----|----------|
| `id` | UUID | PRIMARY KEY |
| `org_id` | UUID | FK â†’ organizations(id) |
| `first_name` | TEXT | Ğ˜Ğ¼Ñ |
| `last_name` | TEXT | Ğ¤Ğ°Ğ¼Ğ¸Ğ»Ğ¸Ñ |
| `phone` | TEXT | Ğ¢ĞµĞ»ĞµÑ„Ğ¾Ğ½ |
| `email` | TEXT | Email (Ğ¾Ğ¿Ñ†) |
| `address` | TEXT | ĞĞ´Ñ€ĞµÑ (Ğ¾Ğ¿Ñ†) |
| `date_of_birth` | DATE | Ğ”Ğ°Ñ‚Ğ° Ñ€Ğ¾Ğ¶Ğ´ĞµĞ½Ğ¸Ñ (Ğ¾Ğ¿Ñ†) |
| `notes` | TEXT | Ğ—Ğ°Ğ¼ĞµÑ‚ĞºĞ¸ |
| `created_at` | TIMESTAMPTZ | Ğ”Ğ°Ñ‚Ğ° ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ñ |
| `updated_at` | TIMESTAMPTZ | Ğ”Ğ°Ñ‚Ğ° Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ñ |

**RLS:** ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ Ğ²Ğ¸Ğ´Ğ¸Ñ‚ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ¾Ğ² ÑĞ²Ğ¾ĞµĞ¹ Ğ¾Ñ€Ğ³Ğ°Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸

---

#### 6. `visits` â€” Ğ’Ğ¸Ğ·Ğ¸Ñ‚Ñ‹ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ¾Ğ²

**ĞŸĞ¾Ğ»Ñ:**

| ĞŸĞ¾Ğ»Ğµ | Ğ¢Ğ¸Ğ¿ | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ |
|------|-----|----------|
| `id` | UUID | PRIMARY KEY |
| `client_id` | UUID | FK â†’ clients(id) |
| `visit_date` | TIMESTAMPTZ | Ğ”Ğ°Ñ‚Ğ° Ğ²Ğ¸Ğ·Ğ¸Ñ‚Ğ° |
| `service_description` | TEXT | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ ÑƒÑĞ»ÑƒĞ³Ğ¸ |
| `amount` | NUMERIC(10,2) | Ğ¡Ñ‚Ğ¾Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ |
| `notes` | TEXT | Ğ—Ğ°Ğ¼ĞµÑ‚ĞºĞ¸ |
| `created_at` | TIMESTAMPTZ | Ğ”Ğ°Ñ‚Ğ° ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ñ |

---

#### 7. `payments` â€” ĞŸĞ»Ğ°Ñ‚ĞµĞ¶Ğ¸

**ĞŸĞ¾Ğ»Ñ:**

| ĞŸĞ¾Ğ»Ğµ | Ğ¢Ğ¸Ğ¿ | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ |
|------|-----|----------|
| `id` | UUID | PRIMARY KEY |
| `client_id` | UUID | FK â†’ clients(id) |
| `visit_id` | UUID | FK â†’ visits(id) (Ğ¾Ğ¿Ñ†) |
| `amount` | NUMERIC(10,2) | Ğ¡ÑƒĞ¼Ğ¼Ğ° |
| `currency` | TEXT | ILS/USD/EUR |
| `status` | TEXT | pending/completed/failed/refunded |
| `payment_method` | TEXT | credit_card/cash |
| `payment_link` | TEXT | Ğ¡ÑÑ‹Ğ»ĞºĞ° Tranzilla |
| `transaction_id` | TEXT | ID Ñ‚Ñ€Ğ°Ğ½Ğ·Ğ°ĞºÑ†Ğ¸Ğ¸ |
| `provider` | TEXT | tranzilla |
| `paid_at` | TIMESTAMPTZ | Ğ”Ğ°Ñ‚Ğ° Ğ¾Ğ¿Ğ»Ğ°Ñ‚Ñ‹ |
| `created_at` | TIMESTAMPTZ | Ğ”Ğ°Ñ‚Ğ° ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ñ |

---

#### 8. `sms_campaigns` â€” SMS ĞºĞ°Ğ¼Ğ¿Ğ°Ğ½Ğ¸Ğ¸

**ĞŸĞ¾Ğ»Ñ:**

| ĞŸĞ¾Ğ»Ğµ | Ğ¢Ğ¸Ğ¿ | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ |
|------|-----|----------|
| `id` | UUID | PRIMARY KEY |
| `org_id` | UUID | FK â†’ organizations(id) |
| `name` | TEXT | ĞĞ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ğµ ĞºĞ°Ğ¼Ğ¿Ğ°Ğ½Ğ¸Ğ¸ |
| `message` | TEXT | Ğ¢ĞµĞºÑÑ‚ SMS |
| `filter_type` | TEXT | all/single/inactive_days |
| `filter_value` | TEXT | Ğ—Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ° |
| `recipients_count` | INT | ĞšĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾ Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ°Ñ‚ĞµĞ»ĞµĞ¹ |
| `sent_count` | INT | ĞÑ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¾ |
| `failed_count` | INT | ĞÑˆĞ¸Ğ±Ğ¾Ğº |
| `status` | TEXT | draft/sending/completed/failed |
| `created_at` | TIMESTAMPTZ | Ğ”Ğ°Ñ‚Ğ° ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ñ |
| `sent_at` | TIMESTAMPTZ | Ğ”Ğ°Ñ‚Ğ° Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²ĞºĞ¸ |

---

#### 9. `sms_messages` â€” ĞÑ‚Ğ´ĞµĞ»ÑŒĞ½Ñ‹Ğµ SMS

**ĞŸĞ¾Ğ»Ñ:**

| ĞŸĞ¾Ğ»Ğµ | Ğ¢Ğ¸Ğ¿ | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ |
|------|-----|----------|
| `id` | UUID | PRIMARY KEY |
| `campaign_id` | UUID | FK â†’ sms_campaigns(id) |
| `client_id` | UUID | FK â†’ clients(id) |
| `phone` | TEXT | ĞĞ¾Ğ¼ĞµÑ€ Ñ‚ĞµĞ»ĞµÑ„Ğ¾Ğ½Ğ° |
| `message` | TEXT | Ğ¢ĞµĞºÑÑ‚ |
| `status` | TEXT | pending/sent/delivered/failed |
| `error` | TEXT | Ğ¢ĞµĞºÑÑ‚ Ğ¾ÑˆĞ¸Ğ±ĞºĞ¸ |
| `sent_at` | TIMESTAMPTZ | Ğ”Ğ°Ñ‚Ğ° Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²ĞºĞ¸ |

---

### Views:

#### `client_summary` â€” Ğ¡Ğ²Ğ¾Ğ´ĞºĞ° Ğ¿Ğ¾ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ°Ğ¼

```sql
SELECT 
  c.id,
  c.first_name,
  c.last_name,
  c.phone,
  c.email,
  MAX(v.visit_date) as last_visit,
  COUNT(v.id) as total_visits,
  COALESCE(SUM(p.amount), 0) as total_paid
FROM clients c
LEFT JOIN visits v ON v.client_id = c.id
LEFT JOIN payments p ON p.client_id = c.id AND p.status = 'completed'
GROUP BY c.id
```

---

### RLS Functions:

#### `get_user_org_ids()`
Ğ’Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰Ğ°ĞµÑ‚ Ğ¼Ğ°ÑÑĞ¸Ğ² org_id Ğ´Ğ»Ñ Ñ‚ĞµĞºÑƒÑ‰ĞµĞ³Ğ¾ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ

#### `is_admin()`
ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑĞµÑ‚ Ğ½Ğ°Ğ»Ğ¸Ñ‡Ğ¸Ğµ Ğ² `admin_users`

---

## ğŸ”Œ API Routes

### Payments API

#### `POST /api/payments/create-link`
Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ Ğ¿Ğ»Ğ°Ñ‚Ñ‘Ğ¶Ğ½Ğ¾Ğ¹ ÑÑÑ‹Ğ»ĞºĞ¸

**Request:**
```json
{
  "client_id": "uuid",
  "amount": 150.00,
  "description": "ĞĞ¿Ğ»Ğ°Ñ‚Ğ° ÑƒÑĞ»ÑƒĞ³",
  "visit_id": "uuid"
}
```

**Response:**
```json
{
  "success": true,
  "payment_id": "uuid",
  "payment_link": "https://...",
  "amount": 150.00,
  "currency": "ILS"
}
```

---

#### `POST /api/payments/webhook`
Webhook Ğ¾Ñ‚ Tranzilla

**ĞŸĞ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹:**
- `Response` â€” ĞºĞ¾Ğ´ Ğ¾Ñ‚Ğ²ĞµÑ‚Ğ° ('000' = ÑƒÑĞ¿ĞµÑ…)
- `ConfirmationCode` â€” ID Ñ‚Ñ€Ğ°Ğ½Ğ·Ğ°ĞºÑ†Ğ¸Ğ¸
- `contact` â€” payment_id

**ĞĞ±Ğ½Ğ¾Ğ²Ğ»ÑĞµÑ‚:** status, transaction_id, paid_at

---

#### `GET /api/payments/callback`
Redirect Ğ¿Ğ¾ÑĞ»Ğµ Ğ¾Ğ¿Ğ»Ğ°Ñ‚Ñ‹

**Query:**
- `status` â€” success/failed
- `contact` â€” payment_id

**Redirect:** `/payments?status=...&payment_id=...`

---

### SMS API

#### `POST /api/sms/campaign`
Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ Ğ¸ Ğ·Ğ°Ğ¿ÑƒÑĞº SMS ĞºĞ°Ğ¼Ğ¿Ğ°Ğ½Ğ¸Ğ¸

**Request:**
```json
{
  "name": "×ª×–×›×•×¨×ª ×œ×‘×™×§×•×¨",
  "message": "×©×œ×•×! ×–×• ×ª×–×›×•×¨×ª...",
  "filter_type": "all|single|inactive_days",
  "filter_value": "30"
}
```

**Response:**
```json
{
  "success": true,
  "campaign_id": "uuid",
  "recipients_count": 45,
  "sent_count": 43,
  "failed_count": 2
}
```

---

#### `POST /api/sms/send`
ĞŸÑ€ÑĞ¼Ğ°Ñ Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²ĞºĞ° SMS

**Request:**
```json
{
  "phones": ["+972501234567"],
  "message": "×©×œ×•×!",
  "campaign_id": "uuid"
}
```

---

### Admin API

#### `POST /api/admin/check`
ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ°Ğ´Ğ¼Ğ¸Ğ½ÑĞºĞ¸Ñ… Ğ¿Ñ€Ğ°Ğ²

**Response:**
```json
{
  "isAdmin": true,
  "email": "admin@example.com"
}
```

---

### Ads API (â­ ĞĞ¾Ğ²Ğ¾Ğµ)

#### `GET /api/ads/active?category={category}`
ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ñ‹Ñ… Ñ€ĞµĞºĞ»Ğ°Ğ¼Ğ½Ñ‹Ñ… ĞºĞ°Ğ¼Ğ¿Ğ°Ğ½Ğ¸Ğ¹

**Query:**
- `category` â€” salon/carwash/clinic/etc

**Ğ¤Ğ¸Ğ»ÑŒÑ‚Ñ€Ñ‹:**
- `is_active = true`
- `start_date <= today <= end_date`
- `target_categories` ÑĞ¾Ğ´ĞµÑ€Ğ¶Ğ¸Ñ‚ ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ñ

**Response:**
```json
{
  "campaigns": [
    {
      "id": "uuid",
      "advertiser_name": "×§×•×¡××˜×™×§×” ×œ×™",
      "banner_url": "https://...",
      "link_url": "https://...",
      "target_categories": ["salon"],
      "clicks": 15,
      "impressions": 42
    }
  ]
}
```

---

#### `POST /api/ads/impression`
Ğ¢Ñ€ĞµĞºĞ¸Ğ½Ğ³ Ğ¿Ğ¾ĞºĞ°Ğ·Ğ° Ğ±Ğ°Ğ½Ğ½ĞµÑ€Ğ°

**Request:**
```json
{
  "campaign_id": "uuid"
}
```

**Response:**
```json
{
  "success": true,
  "impressions": 43
}
```

---

#### `POST /api/ads/click`
Ğ¢Ñ€ĞµĞºĞ¸Ğ½Ğ³ ĞºĞ»Ğ¸ĞºĞ° Ğ¿Ğ¾ Ğ±Ğ°Ğ½Ğ½ĞµÑ€Ñƒ

**Request:**
```json
{
  "campaign_id": "uuid"
}
```

**Response:**
```json
{
  "success": true,
  "clicks": 16
}
```

---

## ğŸ“„ Ğ¡Ñ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ñ‹ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ

### `/` â€” Dashboard (Ğ“Ğ»Ğ°Ğ²Ğ½Ğ°Ñ)

**Ğ¤Ğ°Ğ¹Ğ»:** `src/app/page.tsx`

**Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ğ¸:**
- âœ… ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° `is_active` Ğ¾Ñ€Ğ³Ğ°Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸ (Ñ€ĞµĞ´Ğ¸Ñ€ĞµĞºÑ‚ Ğ½Ğ° `/blocked`)
- 4 ĞºĞ°Ñ€Ñ‚Ğ¾Ñ‡ĞºĞ¸ Ğ¼ĞµÑ‚Ñ€Ğ¸Ğº:
  - ×¡×”×´×› ×œ×§×•×—×•×ª (Ğ²ÑĞµĞ³Ğ´Ğ°)
  - ×‘×™×§×•×¨×™× ×”×—×•×“×© (Ğ²ÑĞµĞ³Ğ´Ğ°)
  - â­ ×”×›× ×¡×•×ª ×”×—×•×“×© (ĞµÑĞ»Ğ¸ `hasPayments`)
  - â­ ×œ×§×•×—×•×ª ×œ× ×¤×¢×™×œ×™× (ĞµÑĞ»Ğ¸ `hasAnalytics`)
- â­ AdBanner ÑĞ¿Ñ€Ğ°Ğ²Ğ° Ğ¾Ñ‚ ĞºĞ°Ñ€Ñ‚Ğ¾Ñ‡ĞµĞº (ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ñ Ğ¸Ğ· `features.category`)
- Ğ‘Ñ‹ÑÑ‚Ñ€Ñ‹Ğµ Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ñ (ÑÑÑ‹Ğ»ĞºĞ¸)
- Ğ ÑƒĞºĞ¾Ğ²Ğ¾Ğ´ÑÑ‚Ğ²Ğ¾ Ğ´Ğ»Ñ Ğ½Ğ°Ñ‡Ğ¸Ğ½Ğ°ÑÑ‰Ğ¸Ñ…

**Ğ”Ğ°Ğ½Ğ½Ñ‹Ğµ:** `useDashboardStats()`, `useFeatures()`

---

### `/clients` â€” ĞšĞ»Ğ¸ĞµĞ½Ñ‚Ñ‹

**Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ğ¸:**
- âœ… ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° `is_active`
- Ğ¢Ğ°Ğ±Ğ»Ğ¸Ñ†Ğ° ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ¾Ğ² (client_summary view)
- ĞŸĞ¾Ğ¸ÑĞº Ğ¿Ğ¾ Ğ¸Ğ¼ĞµĞ½Ğ¸/Ñ‚ĞµĞ»ĞµÑ„Ğ¾Ğ½Ñƒ
- ĞšĞ»Ğ¸Ğº Ğ½Ğ° ÑÑ‚Ñ€Ğ¾ĞºÑƒ â†’ ClientSheet
- ĞšĞ½Ğ¾Ğ¿ĞºĞ° "×”×•×¡×£ ×œ×§×•×—"

**ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹:**
- `AddClientDialog`
- `ClientSheet` (Ñ‚Ğ°Ğ±Ñ‹: Ğ’Ğ¸Ğ·Ğ¸Ñ‚Ñ‹ | ĞŸĞ»Ğ°Ñ‚ĞµĞ¶Ğ¸ | SMS)

---

### `/payments` â€” ĞŸĞ»Ğ°Ñ‚ĞµĞ¶Ğ¸

**Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ğ¸:**
- âœ… ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° `is_active` Ğ¸ `hasPayments` (Ñ€ĞµĞ´Ğ¸Ñ€ĞµĞºÑ‚ Ğ½Ğ° `/`)
- Ğ¡Ñ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ° Ğ·Ğ° Ğ¼ĞµÑÑÑ†
- Ğ¤Ğ¸Ğ»ÑŒÑ‚Ñ€Ñ‹: ÑÑ‚Ğ°Ñ‚ÑƒÑ, Ğ´Ğ°Ñ‚Ñ‹
- Ğ¢Ğ°Ğ±Ğ»Ğ¸Ñ†Ğ° Ğ¿Ğ»Ğ°Ñ‚ĞµĞ¶ĞµĞ¹
- Ğ‘ĞµĞ¹Ğ´Ğ¶Ğ¸ ÑÑ‚Ğ°Ñ‚ÑƒÑĞ¾Ğ² (Ñ†Ğ²ĞµÑ‚Ğ½Ñ‹Ğµ)
- Ğ”ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ñ: ĞºĞ¾Ğ¿Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ ÑÑÑ‹Ğ»ĞºÑƒ, Ğ¾Ñ‚ĞºÑ€Ñ‹Ñ‚ÑŒ

**Toast Ğ¿Ğ¾ÑĞ»Ğµ Ğ¾Ğ¿Ğ»Ğ°Ñ‚Ñ‹:** ĞŸĞ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹ `?status=success&payment_id=...`

---

### `/sms` â€” SMS Ñ€Ğ°ÑÑÑ‹Ğ»ĞºĞ¸

**Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ğ¸:**
- âœ… ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° `is_active` Ğ¸ `hasSms` (Ñ€ĞµĞ´Ğ¸Ñ€ĞµĞºÑ‚ Ğ½Ğ° `/`)
- Ğ¤Ğ¾Ñ€Ğ¼Ğ° Ğ½Ğ¾Ğ²Ğ¾Ğ¹ Ñ€Ğ°ÑÑÑ‹Ğ»ĞºĞ¸
- ĞŸĞ¾Ğ´ÑÑ‡Ñ‘Ñ‚ ÑĞ¸Ğ¼Ğ²Ğ¾Ğ»Ğ¾Ğ²/SMS
- 3 Ñ‚Ğ¸Ğ¿Ğ° Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ¾Ğ² (Ğ²ÑĞµĞ¼/Ğ¾Ğ´Ğ½Ğ¾Ğ¼Ñƒ/Ğ½ĞµĞ°ĞºÑ‚Ğ¸Ğ²Ğ½Ñ‹Ğ¼)
- Ğ˜ÑÑ‚Ğ¾Ñ€Ğ¸Ñ Ñ€Ğ°ÑÑÑ‹Ğ»Ğ¾Ğº
- ĞšĞ»Ğ¸Ğº â†’ CampaignDetailsSheet

---

### `/stats` â€” Ğ¡Ñ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ°

**Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ğ¸:**
- âœ… ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° `is_active` Ğ¸ `hasAnalytics` (Ñ€ĞµĞ´Ğ¸Ñ€ĞµĞºÑ‚ Ğ½Ğ° `/`)
- 4 ĞºĞ°Ñ€Ñ‚Ğ¾Ñ‡ĞºĞ¸ (Ñ‚Ğµ Ğ¶Ğµ Ñ‡Ñ‚Ğ¾ Ğ½Ğ° Ğ³Ğ»Ğ°Ğ²Ğ½Ğ¾Ğ¹)
- 3 Ğ³Ñ€Ğ°Ñ„Ğ¸ĞºĞ°:
  - Ğ”Ğ¾Ñ…Ğ¾Ğ´Ñ‹ Ğ¿Ğ¾ Ğ¼ĞµÑÑÑ†Ğ°Ğ¼ (Bar Chart)
  - Ğ’Ğ¸Ğ·Ğ¸Ñ‚Ñ‹ Ğ¿Ğ¾ Ğ¼ĞµÑÑÑ†Ğ°Ğ¼ (Line Chart)
  - Ğ¢Ğ¾Ğ¿-5 ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ¾Ğ² (Horizontal Bar)

---

### `/partners` â€” ĞŸĞ°Ñ€Ñ‚Ğ½Ñ‘Ñ€ÑĞºĞ¸Ğµ Ğ¿Ñ€ĞµĞ´Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ (â­ ĞĞ¾Ğ²Ğ¾Ğµ)

**Ğ¤Ğ°Ğ¹Ğ»:** `src/app/partners/page.tsx`

**Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ğ¸:**
- âœ… ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° `is_active`
- Ğ—Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ° Ğ²ÑĞµÑ… Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ñ‹Ñ… ĞºĞ°Ğ¼Ğ¿Ğ°Ğ½Ğ¸Ğ¹ Ğ´Ğ»Ñ ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ğ¸
- Grid layout (1/2/3 ĞºĞ¾Ğ»Ğ¾Ğ½ĞºĞ¸)
- ĞšĞ°Ğ¶Ğ´Ñ‹Ğ¹ Ğ±Ğ°Ğ½Ğ½ĞµÑ€:
  - ĞšĞ°Ñ€Ñ‚Ğ¸Ğ½ĞºĞ° 250px
  - ĞĞ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ğµ Ñ€ĞµĞºĞ»Ğ°Ğ¼Ğ¾Ğ´Ğ°Ñ‚ĞµĞ»Ñ
  - ĞšĞ½Ğ¾Ğ¿ĞºĞ° "×œ×¤×¨×˜×™×"
- ĞšĞ»Ğ¸Ğº â†’ Ñ‚Ñ€ĞµĞºĞ¸Ğ½Ğ³ + Ğ¾Ñ‚ĞºÑ€Ñ‹Ñ‚Ğ¸Ğµ ÑÑÑ‹Ğ»ĞºĞ¸
- ĞŸÑƒÑÑ‚Ğ¾Ğµ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ğµ: "××™×Ÿ ×”×¦×¢×•×ª ×–××™× ×•×ª ×›×¨×’×¢"

**Ğ”Ğ°Ğ½Ğ½Ñ‹Ğµ:** `/api/ads/active?category=...`, `useFeatures()`

---

### `/admin` â€” ĞĞ´Ğ¼Ğ¸Ğ½-Ğ¿Ğ°Ğ½ĞµĞ»ÑŒ

**Ğ—Ğ°Ñ‰Ğ¸Ñ‚Ğ°:** Ğ¢Ğ¾Ğ»ÑŒĞºĞ¾ Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ĞµĞ¹ Ğ¸Ğ· `admin_users`

**Ğ Ğ°Ğ·Ğ´ĞµĞ»Ñ‹:**
- Dashboard â€” Ğ¼ĞµÑ‚Ñ€Ğ¸ĞºĞ¸ ÑĞ¸ÑÑ‚ĞµĞ¼Ñ‹
- Organizations â€” CRUD Ğ¾Ñ€Ğ³Ğ°Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¹
- Billing â€” ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ¿Ğ¾Ğ´Ğ¿Ğ¸ÑĞºĞ°Ğ¼Ğ¸
- Ads â€” Ñ€ĞµĞºĞ»Ğ°Ğ¼Ğ½Ñ‹Ğµ ĞºĞ°Ğ¼Ğ¿Ğ°Ğ½Ğ¸Ğ¸
- Settings â€” Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸

---

### `/blocked` â€” Ğ¡Ñ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ğ° Ğ±Ğ»Ğ¾ĞºĞ¸Ñ€Ğ¾Ğ²ĞºĞ¸

**ĞšĞ¾Ğ³Ğ´Ğ° Ğ¿Ğ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚ÑÑ:** `organizations.is_active = false`

**Ğ¡Ğ¾Ğ´ĞµÑ€Ğ¶Ğ¸Ğ¼Ğ¾Ğµ:**
- Ğ¡Ğ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ Ğ¾ Ğ±Ğ»Ğ¾ĞºĞ¸Ñ€Ğ¾Ğ²ĞºĞµ
- ĞŸÑ€Ğ¸Ñ‡Ğ¸Ğ½Ğ° (Ğ½ĞµĞ¾Ğ¿Ğ»Ğ°Ñ‚Ğ°, Ğ½Ğ°Ñ€ÑƒÑˆĞµĞ½Ğ¸Ğµ)
- ĞšĞ¾Ğ½Ñ‚Ğ°ĞºÑ‚Ñ‹ Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ¸

---

## ğŸ§© ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹

### Ads (â­ ĞĞ¾Ğ²Ğ¾Ğµ)

#### `AdBanner`
**ĞŸÑƒÑ‚ÑŒ:** `src/components/ads/AdBanner.tsx`

**Props:**
```typescript
{
  category: string    // ĞšĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ñ Ğ¾Ñ€Ğ³Ğ°Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸
  className?: string
}
```

**Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ğ¸:**
- Ğ—Ğ°Ğ³Ñ€ÑƒĞ¶Ğ°ĞµÑ‚ Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½ÑƒÑ ĞºĞ°Ğ¼Ğ¿Ğ°Ğ½Ğ¸Ñ Ğ´Ğ»Ñ ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ğ¸
- Ğ•ÑĞ»Ğ¸ Ğ½ĞµÑĞºĞ¾Ğ»ÑŒĞºĞ¾ â†’ Ğ²Ñ‹Ğ±Ğ¸Ñ€Ğ°ĞµÑ‚ ÑĞ»ÑƒÑ‡Ğ°Ğ¹Ğ½ÑƒÑ
- Ğ¢Ñ€ĞµĞºĞ°ĞµÑ‚ Ğ¿Ğ¾ĞºĞ°Ğ· Ğ¾Ğ´Ğ¸Ğ½ Ñ€Ğ°Ğ· Ğ¿Ñ€Ğ¸ mount
- ĞšĞ»Ğ¸Ğº â†’ Ñ‚Ñ€ĞµĞºĞ¸Ğ½Ğ³ + Ğ¾Ñ‚ĞºÑ€Ñ‹Ñ‚Ğ¸Ğµ link_url
- Ğ•ÑĞ»Ğ¸ Ğ½ĞµÑ‚ ĞºĞ°Ğ¼Ğ¿Ğ°Ğ½Ğ¸Ğ¹ â†’ null (Ğ½Ğµ Ñ€ĞµĞ½Ğ´ĞµÑ€Ğ¸Ñ‚ÑÑ)

**Ğ¡Ñ‚Ğ¸Ğ»ÑŒ:**
- Ğ¡ĞºÑ€ÑƒĞ³Ğ»Ñ‘Ğ½Ğ½Ñ‹Ğµ ÑƒĞ³Ğ»Ñ‹ (rounded-lg)
- Ğ¢ĞµĞ½ÑŒ (shadow-md)
- Hover: scale(1.02)
- ĞŸĞ¾Ğ´Ğ¿Ğ¸ÑÑŒ "×©×•×ª×£ ×¢×¡×§×™" Ğ²Ğ½Ğ¸Ğ·Ñƒ

---

### Clients

#### `AddClientDialog`
ĞœĞ¾Ğ´Ğ°Ğ»ĞºĞ° Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ°

**ĞŸĞ¾Ğ»Ñ:** Ğ¸Ğ¼Ñ, Ñ„Ğ°Ğ¼Ğ¸Ğ»Ğ¸Ñ, Ñ‚ĞµĞ»ĞµÑ„Ğ¾Ğ½ (Ğ¾Ğ±ÑĞ·Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğµ), email, Ğ°Ğ´Ñ€ĞµÑ, Ğ´Ğ°Ñ‚Ğ° Ñ€Ğ¾Ğ¶Ğ´ĞµĞ½Ğ¸Ñ, Ğ·Ğ°Ğ¼ĞµÑ‚ĞºĞ¸

#### `ClientSheet`
Ğ‘Ğ¾ĞºĞ¾Ğ²Ğ°Ñ Ğ¿Ğ°Ğ½ĞµĞ»ÑŒ Ñ Ğ´ĞµÑ‚Ğ°Ğ»ÑĞ¼Ğ¸ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ°

**Ğ¡ĞµĞºÑ†Ğ¸Ğ¸:**
- ĞšĞ¾Ğ½Ñ‚Ğ°ĞºÑ‚Ñ‹
- Ğ¡Ñ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ°
- Ğ”ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ñ (ÑĞ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ğ¿Ğ»Ğ°Ñ‚Ñ‘Ğ¶, Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²Ğ¸Ñ‚ÑŒ SMS, Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ²Ğ¸Ğ·Ğ¸Ñ‚)
- Ğ¢Ğ°Ğ±Ñ‹ (Ğ’Ğ¸Ğ·Ğ¸Ñ‚Ñ‹ | ĞŸĞ»Ğ°Ñ‚ĞµĞ¶Ğ¸ | SMS)

---

### Payments

#### `CreatePaymentDialog`
Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ Ğ¿Ğ»Ğ°Ñ‚ĞµĞ¶Ğ° Ğ´Ğ»Ñ ĞºĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ğ¾Ğ³Ğ¾ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ°

#### `CreatePaymentLinkDialog`
Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ Ğ¿Ğ»Ğ°Ñ‚ĞµĞ¶Ğ° Ñ Ğ²Ñ‹Ğ±Ğ¾Ñ€Ğ¾Ğ¼ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ°

**Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚:** ĞŸĞ¾ĞºĞ°Ğ· ÑÑÑ‹Ğ»ĞºĞ¸ + ĞºĞ½Ğ¾Ğ¿ĞºĞ¸ (ĞºĞ¾Ğ¿Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ, Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²Ğ¸Ñ‚ÑŒ SMS, Ğ¾Ñ‚ĞºÑ€Ñ‹Ñ‚ÑŒ)

---

### SMS

#### `NewCampaignForm`
Ğ¤Ğ¾Ñ€Ğ¼Ğ° ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ñ SMS ĞºĞ°Ğ¼Ğ¿Ğ°Ğ½Ğ¸Ğ¸

**Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ğ¸:**
- ĞŸĞ¾Ğ´ÑÑ‡Ñ‘Ñ‚ ÑĞ¸Ğ¼Ğ²Ğ¾Ğ»Ğ¾Ğ² Ğ¸ SMS Ñ‡Ğ°ÑÑ‚ĞµĞ¹
- Live preview ĞºĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ° Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ°Ñ‚ĞµĞ»ĞµĞ¹
- 3 Ñ‚Ğ¸Ğ¿Ğ° Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ¾Ğ² (Ñ€Ğ°Ğ´Ğ¸Ğ¾ + Ğ²Ğ»Ğ¾Ğ¶ĞµĞ½Ğ½Ñ‹Ğµ Ğ¿Ğ¾Ğ»Ñ)
- Ğ”Ğ¸Ğ°Ğ»Ğ¾Ğ³ Ğ¿Ğ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´ĞµĞ½Ğ¸Ñ

#### `CampaignDetailsSheet`
Ğ”ĞµÑ‚Ğ°Ğ»Ğ¸ SMS ĞºĞ°Ğ¼Ğ¿Ğ°Ğ½Ğ¸Ğ¸

**Ğ¡ĞµĞºÑ†Ğ¸Ğ¸:**
- Ğ˜Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ†Ğ¸Ñ
- Ğ¡Ñ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ°
- Ğ¢ĞµĞºÑÑ‚
- Ğ¢Ğ°Ğ±Ğ»Ğ¸Ñ†Ğ° Ğ¾Ñ‚Ğ´ĞµĞ»ÑŒĞ½Ñ‹Ñ… SMS

---

### Layout

#### `Sidebar` (â­ ĞĞ±Ğ½Ğ¾Ğ²Ğ»Ñ‘Ğ½)
**ĞŸÑƒÑ‚ÑŒ:** `src/components/layout/Sidebar.tsx`

**Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ğ¸:**
- â­ Ğ¤Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ Ğ¿ÑƒĞ½ĞºÑ‚Ğ¾Ğ² Ğ¼ĞµĞ½Ñ Ğ½Ğ° Ğ¾ÑĞ½Ğ¾Ğ²Ğµ `features`:
  - "×ª×©×œ×•××™×" â†’ ĞµÑĞ»Ğ¸ `hasPayments`
  - "×”×•×“×¢×•×ª SMS" â†’ ĞµÑĞ»Ğ¸ `hasSms`
  - "×¡×˜×˜×™×¡×˜×™×§×”" â†’ ĞµÑĞ»Ğ¸ `hasAnalytics`
  - "×œ×§×•×—×•×ª" Ğ¸ "×”×¦×¢×•×ª ×©×•×ª×¤×™×" â†’ Ğ²ÑĞµĞ³Ğ´Ğ°
- ĞšĞ½Ğ¾Ğ¿ĞºĞ° "××“××™×Ÿ" Ğ´Ğ»Ñ Ğ°Ğ´Ğ¼Ğ¸Ğ½Ğ¾Ğ²
- ĞĞºÑ‚Ğ¸Ğ²Ğ½Ñ‹Ğ¹ Ğ¿ÑƒĞ½ĞºÑ‚ Ğ¿Ğ¾Ğ´ÑĞ²ĞµÑ‡Ğ¸Ğ²Ğ°ĞµÑ‚ÑÑ
- RTL layout

**Ğ”Ğ°Ğ½Ğ½Ñ‹Ğµ:** `useFeatures()`, `useIsAdmin()`

#### `AdminSidebar`
Sidebar Ğ°Ğ´Ğ¼Ğ¸Ğ½-Ğ¿Ğ°Ğ½ĞµĞ»Ğ¸ (Ñ‚Ñ‘Ğ¼Ğ½Ñ‹Ğ¹ #1E293B)

---

### Error Handling (â­ ĞĞ¾Ğ²Ğ¾Ğµ)

#### `error.tsx`
**ĞŸÑƒÑ‚ÑŒ:** `src/app/error.tsx`

Error Boundary Ğ´Ğ»Ñ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ½Ñ‹Ñ… Ğ¾ÑˆĞ¸Ğ±Ğ¾Ğº

**Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ğ¸:**
- Ğ›Ğ¾Ğ³Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ² console.error
- ĞšÑ€Ğ°ÑĞ¸Ğ²Ğ°Ñ ĞºĞ°Ñ€Ñ‚Ğ¾Ñ‡ĞºĞ° Ñ Ğ¸ĞºĞ¾Ğ½ĞºĞ¾Ğ¹ Ğ¾ÑˆĞ¸Ğ±ĞºĞ¸
- Dev mode â†’ Ğ¿Ğ¾ĞºĞ°Ğ· ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ñ
- ĞšĞ½Ğ¾Ğ¿ĞºĞ¸: "× ×¡×” ×©×•×‘" (reset), "×—×–×•×¨ ×œ×“×£ ×”×‘×™×ª"

#### `global-error.tsx`
**ĞŸÑƒÑ‚ÑŒ:** `src/app/global-error.tsx`

ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° ĞºÑ€Ğ¸Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ñ… Ğ¾ÑˆĞ¸Ğ±Ğ¾Ğº (Ğ¾Ğ±Ñ…Ğ¾Ğ´Ğ¸Ñ‚ root layout)

**Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ğ¸:**
- Inline HTML Ğ±ĞµĞ· layout
- RTL `dir="rtl"`
- Inline ÑÑ‚Ğ¸Ğ»Ğ¸
- ĞšĞ½Ğ¾Ğ¿ĞºĞ° "× ×¡×” ×©×•×‘"

---

## ğŸ£ Hooks

### useOrganization() (â­ ĞĞ¾Ğ²Ğ¾Ğµ)
**ĞŸÑƒÑ‚ÑŒ:** `src/hooks/useOrganization.ts`

**ĞĞ°Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ:** ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ñ‚ĞµĞºÑƒÑ‰ĞµĞ¹ Ğ¾Ñ€Ğ³Ğ°Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ

**ĞĞ»Ğ³Ğ¾Ñ€Ğ¸Ñ‚Ğ¼:**
1. `supabase.auth.getUser()`
2. SELECT org_id FROM org_users WHERE user_id = ...
3. SELECT * FROM organizations WHERE id = org_id
4. Ğ’Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‚ Organization Ğ¾Ğ±ÑŠĞµĞºÑ‚Ğ°

**Ğ’Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰Ğ°ĞµÑ‚:**
```typescript
interface Organization {
  id: string
  name: string
  category: string
  plan: string
  is_active: boolean
  features: {
    sms: boolean
    payments: boolean
    analytics: boolean
  }
  billing_status: string
  // ...
}
```

**ĞšÑÑˆĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ:**
- Query key: `['organization']`
- Stale time: 5 Ğ¼Ğ¸Ğ½ÑƒÑ‚

---

### useFeatures() (â­ ĞĞ¾Ğ²Ğ¾Ğµ)
**ĞŸÑƒÑ‚ÑŒ:** `src/hooks/useFeatures.ts`

**ĞĞ°Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ:** Ğ£Ğ´Ğ¾Ğ±Ğ½Ñ‹Ğ¹ Ğ¸Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹Ñ Ğ´Ğ»Ñ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ¸ Ñ„Ğ¸Ñ‡

**Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚:** `useOrganization()`

**Ğ’Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰Ğ°ĞµÑ‚:**
```typescript
interface Features {
  hasSms: boolean
  hasPayments: boolean
  hasAnalytics: boolean
  isActive: boolean
  category: string
  isLoading: boolean
}
```

**Fallback:** Ğ•ÑĞ»Ğ¸ features Ğ½Ğµ Ğ·Ğ°Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¾ â†’ Ğ²ÑĞµ true

**Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ÑÑ Ğ²:**
- Sidebar (Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ Ğ¼ĞµĞ½Ñ)
- Dashboard (ÑĞºÑ€Ñ‹Ñ‚Ğ¸Ğµ ĞºĞ°Ñ€Ñ‚Ğ¾Ñ‡ĞµĞº)
- Ğ¡Ñ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ñ‹ (Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ°)
- AdBanner (ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ñ)

---

### useClients()
ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ ÑĞ¿Ğ¸ÑĞºĞ° ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ¾Ğ² Ñ Ğ¿Ğ¾Ğ¸ÑĞºĞ¾Ğ¼

### useClient(id)
ĞĞ´Ğ¸Ğ½ ĞºĞ»Ğ¸ĞµĞ½Ñ‚ Ğ¿Ğ¾ ID

### useAddClient()
Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ°

### useUpdateClient()
ĞĞ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ°

---

### usePayments(clientId?, filters?)
Ğ¡Ğ¿Ğ¸ÑĞ¾Ğº Ğ¿Ğ»Ğ°Ñ‚ĞµĞ¶ĞµĞ¹ Ñ Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ°Ğ¼Ğ¸

### usePaymentsStats()
Ğ¡Ñ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ° Ğ·Ğ° Ğ¼ĞµÑÑÑ†

### useCreatePaymentLink()
Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ Ğ¿Ğ»Ğ°Ñ‚Ñ‘Ğ¶Ğ½Ğ¾Ğ¹ ÑÑÑ‹Ğ»ĞºĞ¸

---

### useSmsCampaigns()
Ğ¡Ğ¿Ğ¸ÑĞ¾Ğº SMS ĞºĞ°Ğ¼Ğ¿Ğ°Ğ½Ğ¸Ğ¹

### useSmsCampaign(id)
ĞĞ´Ğ½Ğ° ĞºĞ°Ğ¼Ğ¿Ğ°Ğ½Ğ¸Ñ

### useSmsMessages(campaignId)
SMS ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ñ ĞºĞ°Ğ¼Ğ¿Ğ°Ğ½Ğ¸Ğ¸

### useCreateCampaign()
Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ Ğ¸ Ğ·Ğ°Ğ¿ÑƒÑĞº ĞºĞ°Ğ¼Ğ¿Ğ°Ğ½Ğ¸Ğ¸

### useRecipientsCount(filterType, filterValue?)
ĞšĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ¾ Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ°Ñ‚ĞµĞ»ĞµĞ¹ (preview)

---

### useDashboardStats()
ĞœĞµÑ‚Ñ€Ğ¸ĞºĞ¸ Ğ´Ğ»Ñ Ğ´Ğ°ÑˆĞ±Ğ¾Ñ€Ğ´Ğ°

### useRevenueByMonth()
Ğ”Ğ¾Ñ…Ğ¾Ğ´Ñ‹ Ğ¿Ğ¾ Ğ¼ĞµÑÑÑ†Ğ°Ğ¼ (6 Ğ¼ĞµÑÑÑ†ĞµĞ²)

### useVisitsByMonth()
Ğ’Ğ¸Ğ·Ğ¸Ñ‚Ñ‹ Ğ¿Ğ¾ Ğ¼ĞµÑÑÑ†Ğ°Ğ¼

### useTopClients()
Ğ¢Ğ¾Ğ¿-5 ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ¾Ğ²

---

### useAuth()
ĞÑƒÑ‚ĞµĞ½Ñ‚Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ñ (signIn, signOut, user)

### useIsAdmin()
ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ°Ğ´Ğ¼Ğ¸Ğ½Ğ° Ñ‡ĞµÑ€ĞµĞ· `/api/admin/check`

---

## ğŸ“š Ğ‘Ğ¸Ğ±Ğ»Ğ¸Ğ¾Ñ‚ĞµĞºĞ¸ Ğ¸ ÑƒÑ‚Ğ¸Ğ»Ğ¸Ñ‚Ñ‹

### `src/lib/supabase.ts`
Supabase ĞºĞ»Ğ¸ĞµĞ½Ñ‚ (ANON KEY)

### `src/lib/supabase-browser.ts`
Browser-safe ĞºĞ»Ğ¸ĞµĞ½Ñ‚

### `src/lib/tranzilla.ts`
Tranzilla API ÑƒÑ‚Ğ¸Ğ»Ğ¸Ñ‚Ñ‹:
- `generateTranzillaPaymentLink()`
- `parseTranzillaWebhook()`
- `formatAmount()`
- `getPaymentStatus()`

### `src/lib/inforu.ts`
InforU SMS API ÑƒÑ‚Ğ¸Ğ»Ğ¸Ñ‚Ñ‹:
- `sendSms()`
- `formatPhoneNumber()`
- `calculateSmsParts()`
- `isValidIsraeliPhone()`

### `src/lib/utils.ts`
shadcn/ui ÑƒÑ‚Ğ¸Ğ»Ğ¸Ñ‚Ñ‹:
```typescript
import { cn } from '@/lib/utils'
```

---

## ğŸ” ĞŸĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ğµ Ğ¾ĞºÑ€ÑƒĞ¶ĞµĞ½Ğ¸Ñ

**Ğ¤Ğ°Ğ¹Ğ»:** `.env.local`

```env
# Supabase (Ğ¾Ğ±ÑĞ·Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ğ¾)
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_anon_key
SUPABASE_SERVICE_ROLE_KEY=your_service_role_key

# Tranzilla (Ğ¿Ğ»Ğ°Ñ‚ĞµĞ¶Ğ¸)
TRANZILLA_TERMINAL_ID=your_terminal_id
TRANZILLA_API_KEY=your_api_key

# InforU Mobile (SMS)
INFORU_API_TOKEN=your_api_token
INFORU_SENDER_NAME=YourBusiness
```

---

## ğŸ— ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ½Ñ‹Ğµ Ñ€ĞµÑˆĞµĞ½Ğ¸Ñ

### 1. Multi-Tenancy Ñ‡ĞµÑ€ĞµĞ· organizations
- ĞšĞ°Ğ¶Ğ´Ğ°Ñ Ğ¾Ñ€Ğ³Ğ°Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ¸Ğ·Ğ¾Ğ»Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ°
- RLS Ğ½Ğ° ÑƒÑ€Ğ¾Ğ²Ğ½Ğµ Ğ‘Ğ”
- org_id Ğ² Ğ±Ğ¾Ğ»ÑŒÑˆĞ¸Ğ½ÑÑ‚Ğ²Ğµ Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†

### 2. Ğ¡Ğ¸ÑÑ‚ĞµĞ¼Ğ° ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ Ñ„Ğ¸Ñ‡Ğ°Ğ¼Ğ¸ (â­ v2.1)
- JSONB Ğ¿Ğ¾Ğ»Ğµ `features` Ğ² organizations
- Ğ¥ÑƒĞºĞ¸ `useFeatures()` Ğ¸ `useOrganization()`
- ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ°Ñ Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ UI
- Middleware Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ÑĞµÑ‚ `is_active`
- 3 ÑƒÑ€Ğ¾Ğ²Ğ½Ñ Ğ·Ğ°Ñ‰Ğ¸Ñ‚Ñ‹: middleware, ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹, UI

### 3. Ğ‘Ğ°Ğ½Ğ½ĞµÑ€Ğ½Ğ°Ñ Ñ€ĞµĞºĞ»Ğ°Ğ¼Ğ° (â­ v2.1)
- Ğ¥Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğµ Ğ±Ğ°Ğ½Ğ½ĞµÑ€Ğ¾Ğ² Ğ² Supabase Storage
- Ğ¢Ğ°Ñ€Ğ³ĞµÑ‚Ğ¸Ğ½Ğ³ Ğ¿Ğ¾ ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸ÑĞ¼
- Ğ¤Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ Ğ¿Ğ¾ Ğ´Ğ°Ñ‚Ğ°Ğ¼
- Ğ¢Ñ€ĞµĞºĞ¸Ğ½Ğ³ Ğ½Ğ° ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğµ (impressions/clicks)
- API Ğ±ĞµĞ· Ğ°ÑƒÑ‚ĞµĞ½Ñ‚Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ğ¸ (Ğ¿ÑƒĞ±Ğ»Ğ¸Ñ‡Ğ½Ñ‹Ğ¹)
- CTR Ñ€Ğ°ÑÑ‡Ñ‘Ñ‚ Ğ² Ğ°Ğ´Ğ¼Ğ¸Ğ½ĞºĞµ

### 4. ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ğ¾ÑˆĞ¸Ğ±Ğ¾Ğº (â­ v2.1)
- Error Boundary Ğ½Ğ° ÑƒÑ€Ğ¾Ğ²Ğ½Ğµ ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†
- Global error handler Ğ´Ğ»Ñ ĞºÑ€Ğ¸Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ñ… Ğ¾ÑˆĞ¸Ğ±Ğ¾Ğº
- ĞšĞ½Ğ¾Ğ¿ĞºĞ¸ recovery (reset, home)
- Dev mode Ğ¿Ğ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚ Ğ´ĞµÑ‚Ğ°Ğ»Ğ¸

### 5. React Query Ğ´Ğ»Ñ state management
- ĞšÑÑˆĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ¾Ğ² (5 Ğ¼Ğ¸Ğ½ÑƒÑ‚ Ğ´Ğ»Ñ Ğ¾Ñ€Ğ³Ğ°Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¹)
- ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ°Ñ Ğ¸Ğ½Ğ²Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ñ
- ĞĞ¿Ñ‚Ğ¸Ğ¼Ğ¸ÑÑ‚Ğ¸Ñ‡Ğ½Ñ‹Ğµ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ñ

### 6. Supabase ĞºĞ°Ğº ĞµĞ´Ğ¸Ğ½ÑÑ‚Ğ²ĞµĞ½Ğ½Ñ‹Ğ¹ Ğ¸ÑÑ‚Ğ¾Ñ‡Ğ½Ğ¸Ğº Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…
- ĞĞµÑ‚ Ğ»Ğ¾ĞºĞ°Ğ»ÑŒĞ½Ğ¾Ğ³Ğ¾ state
- Ğ’ÑĞµ Ñ‡ĞµÑ€ĞµĞ· REST API
- Views Ğ´Ğ»Ñ Ğ°Ğ³Ñ€ĞµĞ³Ğ°Ñ†Ğ¸Ğ¸

### 7. RTL (Right-to-Left) Ğ¸Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹Ñ
- `dir="rtl"` Ğ² root layout
- Ğ’ĞµÑÑŒ Ñ‚ĞµĞºÑÑ‚ Ğ½Ğ° Ğ¸Ğ²Ñ€Ğ¸Ñ‚Ğµ
- Recharts Ğ½Ğ°ÑÑ‚Ñ€Ğ¾ĞµĞ½Ñ‹ Ğ¿Ğ¾Ğ´ RTL

### 8. shadcn/ui ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹
- ĞŸĞ¾Ğ»Ğ½Ğ¾ÑÑ‚ÑŒÑ ĞºĞ°ÑÑ‚Ğ¾Ğ¼Ğ¸Ğ·Ğ¸Ñ€ÑƒĞµĞ¼Ñ‹Ğµ
- Tailwind CSS ÑÑ‚Ğ¸Ğ»Ğ¸
- Radix UI primitives

### 9. API Routes Ğ´Ğ»Ñ Ğ²Ğ½ĞµÑˆĞ½Ğ¸Ñ… Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ğ¹
- Tranzilla: ÑĞµÑ€Ğ²ĞµÑ€Ğ½Ğ°Ñ Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ ÑÑÑ‹Ğ»Ğ¾Ğº
- InforU: ÑĞµÑ€Ğ²ĞµÑ€Ğ½Ğ°Ñ Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²ĞºĞ° SMS
- Ads: Ñ‚Ñ€ĞµĞºĞ¸Ğ½Ğ³ Ğ±ĞµĞ· Ğ°ÑƒÑ‚ĞµĞ½Ñ‚Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ğ¸
- Webhook Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ğ°ÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ½Ğ°Ñ

### 10. TypeScript ÑÑ‚Ñ€Ğ¾Ğ³Ğ°Ñ Ñ‚Ğ¸Ğ¿Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ
- Ğ¢Ğ¸Ğ¿Ñ‹ Ğ´Ğ»Ñ Ğ²ÑĞµÑ… ÑÑƒÑ‰Ğ½Ğ¾ÑÑ‚ĞµĞ¹ Ğ‘Ğ”
- Ğ¢Ğ¸Ğ¿Ñ‹ Ğ´Ğ»Ñ API responses
- Ğ¢Ğ¸Ğ¿Ñ‹ Ğ´Ğ»Ñ props ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ¾Ğ²

### 11. Loading states Ğ¸ Error handling
- `loading.tsx` Ğ´Ğ»Ñ ĞºĞ°Ğ¶Ğ´Ğ¾Ğ³Ğ¾ route
- `error.tsx` Ğ´Ğ»Ñ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ¸ Ğ¾ÑˆĞ¸Ğ±Ğ¾Ğº
- `not-found.tsx` Ğ´Ğ»Ñ 404

### 12. Middleware Ğ´Ğ»Ñ Ğ°Ğ²Ñ‚Ğ¾Ñ€Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸
- ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° session
- ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° org membership
- ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° admin rights
- â­ ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° is_active (Ñ€ĞµĞ´Ğ¸Ñ€ĞµĞºÑ‚ Ğ½Ğ° /blocked)
- ĞŸÑƒĞ±Ğ»Ğ¸Ñ‡Ğ½Ñ‹Ğµ Ğ¿ÑƒÑ‚Ğ¸: /login, /unauthorized, /blocked

### 13. Tailwind 3.x (â­ v2.1)
- ĞÑ‚ĞºĞ°Ñ‚ Ñ 4.x beta Ğ´Ğ»Ñ ÑÑ‚Ğ°Ğ±Ğ¸Ğ»ÑŒĞ½Ğ¾ÑÑ‚Ğ¸
- ĞšĞ°ÑÑ‚Ğ¾Ğ¼Ğ½Ñ‹Ğµ Ñ†Ğ²ĞµÑ‚Ğ° Ñ‡ĞµÑ€ĞµĞ· CSS variables
- ĞŸĞ»Ğ°Ğ³Ğ¸Ğ½ tailwindcss-animate
- PostCSS Ñ autoprefixer

---

## ğŸš€ ĞšĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹ Ğ´Ğ»Ñ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹

```bash
# Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ° Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚ĞµĞ¹
npm install

# Ğ—Ğ°Ğ¿ÑƒÑĞº dev ÑĞµÑ€Ğ²ĞµÑ€Ğ°
npm run dev

# Ğ¡Ğ±Ğ¾Ñ€ĞºĞ° Ğ´Ğ»Ñ Ğ¿Ñ€Ğ¾Ğ´Ğ°ĞºÑˆĞµĞ½Ğ°
npm run build

# Ğ—Ğ°Ğ¿ÑƒÑĞº Ğ¿Ñ€Ğ¾Ğ´Ğ°ĞºÑˆĞµĞ½ ÑĞµÑ€Ğ²ĞµÑ€Ğ°
npm start

# Ğ›Ğ¸Ğ½Ñ‚Ğ¸Ğ½Ğ³
npm run lint
```

---

## ğŸ“Š Ğ¡Ñ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ° Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°

- **Ğ¡Ñ‚Ñ€Ğ°Ğ½Ğ¸Ñ†:** 13 (Ğ²ĞºĞ»ÑÑ‡Ğ°Ñ Ğ°Ğ´Ğ¼Ğ¸Ğ½ĞºÑƒ)
- **API Routes:** 13
- **ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ¾Ğ²:** 29
- **Ğ¥ÑƒĞºĞ¾Ğ²:** 9
- **Ğ¢Ğ°Ğ±Ğ»Ğ¸Ñ† Ğ‘Ğ”:** 9
- **Views:** 1 (client_summary)
- **RLS Functions:** 2 (get_user_org_ids, is_admin)
- **Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ğ¸:** 8 Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ²
- **Ğ¡Ñ‚Ñ€Ğ¾Ğº ĞºĞ¾Ğ´Ğ°:** ~8000+

---

## ğŸ› Ğ˜Ğ·Ğ²ĞµÑÑ‚Ğ½Ñ‹Ğµ Ğ¾Ğ³Ñ€Ğ°Ğ½Ğ¸Ñ‡ĞµĞ½Ğ¸Ñ

1. **API Routes Ğ½Ğµ Ğ·Ğ°Ñ‰Ğ¸Ñ‰ĞµĞ½Ñ‹ features:** ĞÑƒĞ¶Ğ½Ğ¾ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºÑƒ Ğ² endpoints
2. **ĞšĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ñ hardcoded:** Ğ’ Ğ½ĞµĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ñ… Ğ¼ĞµÑÑ‚Ğ°Ñ… Ğ½Ğµ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ÑÑ `features.category`
3. **ĞĞµÑ‚ ĞºÑÑˆĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ Ğ² middleware:** SELECT Ğ¿Ñ€Ğ¸ ĞºĞ°Ğ¶Ğ´Ğ¾Ğ¼ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞµ
4. **features Ğ¼Ğ¾Ğ¶ĞµÑ‚ Ğ±Ñ‹Ñ‚ÑŒ null:** ĞÑƒĞ¶ĞµĞ½ Ğ´ĞµÑ„Ğ¾Ğ»Ñ‚ Ğ² Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸ÑÑ…
5. **Ğ”ĞµĞ´ÑƒĞ¿Ğ»Ğ¸ĞºĞ°Ñ†Ğ¸Ñ Ğ¿Ğ¾ĞºĞ°Ğ·Ğ¾Ğ²:** Impression Ñ‚Ñ€ĞµĞºĞ°ĞµÑ‚ÑÑ Ğ¾Ğ´Ğ¸Ğ½ Ñ€Ğ°Ğ· Ğ·Ğ° mount

---

## ğŸ“ Ğ”Ğ¾Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğµ Ñ„Ğ°Ğ¹Ğ»Ñ‹

### Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ (`docs/`):
- `ADMIN_SETUP.md` â€” Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ° Ğ°Ğ´Ğ¼Ğ¸Ğ½-Ğ¿Ğ°Ğ½ĞµĞ»Ğ¸
- `ADS_IMPLEMENTATION.md` â­ â€” Ğ±Ğ°Ğ½Ğ½ĞµÑ€Ğ½Ğ°Ñ Ñ€ĞµĞºĞ»Ğ°Ğ¼Ğ° (v2.1)
- `FEATURES_SYSTEM.md` â­ â€” ÑĞ¸ÑÑ‚ĞµĞ¼Ğ° ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ Ñ„Ğ¸Ñ‡Ğ°Ğ¼Ğ¸ (v2.1)
- `SETUP.md` â€” ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ° Ğ¸ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ°
- `PAYMENTS_GUIDE.md` â€” Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ° Ñ Ğ¿Ğ»Ğ°Ñ‚ĞµĞ¶Ğ°Ğ¼Ğ¸
- `SMS_GUIDE.md` â€” Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ° Ñ SMS
- `STORAGE_SETUP.md` â€” Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ° Storage

### SQL Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¸ (`supabase/`):
- `schema-v2.sql` â€” Ğ¿Ğ¾Ğ»Ğ½Ğ°Ñ ÑÑ…ĞµĞ¼Ğ° v2.0
- `schema-v2-part1.sql` â€” Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ñ‹
- `schema-v2-part2.sql` â€” RLS policies
- `schema-v2-part3.sql` â€” views
- `create-storage-bucket.sql` â€” Storage Ğ´Ğ»Ñ Ğ±Ğ°Ğ½Ğ½ĞµÑ€Ğ¾Ğ²
- `quick-fix-ad-campaigns.sql` â€” Ğ±Ñ‹ÑÑ‚Ñ€Ğ¾Ğµ ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ñ‹
- `URGENT_FIX_RLS.sql` â€” Ğ¸ÑĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ RLS

---

## ğŸ¯ Ğ¡Ğ»ĞµĞ´ÑƒÑÑ‰Ğ¸Ğµ ÑˆĞ°Ğ³Ğ¸ Ğ´Ğ»Ñ Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ¸

### ĞšÑ€Ğ°Ñ‚ĞºĞ¾ÑÑ€Ğ¾Ñ‡Ğ½Ñ‹Ğµ:
- [ ] Ğ—Ğ°Ñ‰Ğ¸Ñ‚Ğ° API routes Ñ‡ĞµÑ€ĞµĞ· features
- [ ] ĞšÑÑˆĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ¾Ñ€Ğ³Ğ°Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸ (Redis/cookies)
- [ ] Ğ­ĞºÑĞ¿Ğ¾Ñ€Ñ‚ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… (CSV/PDF)
- [ ] Email ÑƒĞ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ñ

### Ğ¡Ñ€ĞµĞ´Ğ½ĞµÑÑ€Ğ¾Ñ‡Ğ½Ñ‹Ğµ:
- [ ] Ğ“ĞµĞ¾Ñ‚Ğ°Ñ€Ğ³ĞµÑ‚Ğ¸Ğ½Ğ³ Ğ´Ğ»Ñ Ñ€ĞµĞºĞ»Ğ°Ğ¼Ñ‹
- [ ] A/B Ñ‚ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ±Ğ°Ğ½Ğ½ĞµÑ€Ğ¾Ğ²
- [ ] Ğ›Ğ¸Ğ¼Ğ¸Ñ‚Ñ‹ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ (100 SMS/Ğ¼ĞµÑÑÑ†)
- [ ] Feature flags (Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ½Ğ¾Ğµ Ğ¾Ñ‚ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ)
- [ ] WhatsApp Business Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ

### Ğ”Ğ¾Ğ»Ğ³Ğ¾ÑÑ€Ğ¾Ñ‡Ğ½Ñ‹Ğµ:
- [ ] AI Ñ€ĞµĞºĞ¾Ğ¼ĞµĞ½Ğ´Ğ°Ñ†Ğ¸Ğ¸
- [ ] ĞœĞ¾Ğ±Ğ¸Ğ»ÑŒĞ½Ğ¾Ğµ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ
- [ ] API Ğ´Ğ»Ñ Ğ¿Ğ°Ñ€Ñ‚Ğ½Ñ‘Ñ€Ğ¾Ğ²
- [ ] Ğ Ğ°ÑÑˆĞ¸Ñ€ĞµĞ½Ğ½Ğ°Ñ Ğ°Ğ½Ğ°Ğ»Ğ¸Ñ‚Ğ¸ĞºĞ°

---

## âš ï¸ Ğ”Ğ»Ñ Production Ğ´ĞµĞ¿Ğ»Ğ¾Ñ

### 1. Ğ‘Ğ°Ğ·Ğ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…:
```bash
# Ğ’Ñ‹Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ÑŒ Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¸ Ğ² Supabase SQL Editor
cat supabase/schema-v2.sql | pbcopy
# Ğ’ÑÑ‚Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ² Supabase Dashboard â†’ SQL Editor

# Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Storage bucket
cat supabase/create-storage-bucket.sql | pbcopy
```

### 2. ĞŸĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ğµ Ğ¾ĞºÑ€ÑƒĞ¶ĞµĞ½Ğ¸Ñ:
```bash
# .env.local Ñ Ñ€ĞµĞ°Ğ»ÑŒĞ½Ñ‹Ğ¼Ğ¸ ĞºĞ»ÑÑ‡Ğ°Ğ¼Ğ¸
cp .env.example .env.local
# Ğ—Ğ°Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ÑŒ SUPABASE_URL, KEYS, TRANZILLA, INFORU
```

### 3. Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ° Ğ¸ Ğ±Ğ¸Ğ»Ğ´:
```bash
npm install
npm run build
npm start
```

### 4. Ğ¢ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ:
- [ ] Ğ ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ
- [ ] Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ Ğ¾Ñ€Ğ³Ğ°Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸
- [ ] Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ°
- [ ] Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ Ğ¿Ğ»Ğ°Ñ‚Ñ‘Ğ¶Ğ½Ğ¾Ğ¹ ÑÑÑ‹Ğ»ĞºĞ¸
- [ ] ĞÑ‚Ğ¿Ñ€Ğ°Ğ²ĞºĞ° SMS
- [ ] ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ±Ğ»Ğ¾ĞºĞ¸Ñ€Ğ¾Ğ²ĞºĞ¸ (`is_active = false`)
- [ ] ĞÑ‚ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ Ñ„Ğ¸Ñ‡ (features)
- [ ] ĞŸÑ€Ğ¾ÑĞ¼Ğ¾Ñ‚Ñ€ Ğ±Ğ°Ğ½Ğ½ĞµÑ€Ğ¾Ğ²
- [ ] ĞĞ´Ğ¼Ğ¸Ğ½-Ğ¿Ğ°Ğ½ĞµĞ»ÑŒ (Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ² admin_users)

---

**ĞŸĞ¾ÑĞ»ĞµĞ´Ğ½ĞµĞµ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ:** 2026-02-09 09:30 UTC

**Ğ’ĞµÑ€ÑĞ¸Ñ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°:** 2.1.0

**Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ:** âœ… Production Ready

**ĞÑĞ½Ğ¾Ğ²Ğ½Ñ‹Ğµ Ğ´Ğ¾ÑÑ‚Ğ¸Ğ¶ĞµĞ½Ğ¸Ñ v2.1:**
- âœ… Ğ¡Ğ¸ÑÑ‚ĞµĞ¼Ğ° ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ Ñ„Ğ¸Ñ‡Ğ°Ğ¼Ğ¸
- âœ… Ğ‘Ğ°Ğ½Ğ½ĞµÑ€Ğ½Ğ°Ñ Ñ€ĞµĞºĞ»Ğ°Ğ¼Ğ° Ñ Ñ‚Ñ€ĞµĞºĞ¸Ğ½Ğ³Ğ¾Ğ¼
- âœ… ĞŸĞ¾Ğ»Ğ½Ğ°Ñ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ğ¾ÑˆĞ¸Ğ±Ğ¾Ğº
- âœ… Tailwind 3.x (ÑÑ‚Ğ°Ğ±Ğ¸Ğ»ÑŒĞ½Ğ°Ñ Ğ²ĞµÑ€ÑĞ¸Ñ)
- âœ… Ğ’ÑĞµ ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ñ‹ Ñ loading states
- âœ… Middleware Ñ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ¾Ğ¹ is_active
- âœ… RTL Ğ¸Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹Ñ Ğ½Ğ° Ğ¸Ğ²Ñ€Ğ¸Ñ‚Ğµ
- âœ… ĞŸĞ¾Ğ´Ñ€Ğ¾Ğ±Ğ½Ğ°Ñ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ

---

_Ğ­Ñ‚Ğ¾Ñ‚ Ñ„Ğ°Ğ¹Ğ» ÑĞ¾Ğ·Ğ´Ğ°Ğ½ Ğ´Ğ»Ñ AI-Ğ°ÑÑĞ¸ÑÑ‚ĞµĞ½Ñ‚Ğ¾Ğ² (Claude, GPT, Ğ¸ Ğ´Ñ€.) Ğ´Ğ»Ñ Ğ±Ñ‹ÑÑ‚Ñ€Ğ¾Ğ³Ğ¾ Ğ¿Ğ¾Ğ½Ğ¸Ğ¼Ğ°Ğ½Ğ¸Ñ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°._
